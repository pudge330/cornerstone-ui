!function(t,e){var i="undefined"!==t.Cornerstone_NoConflict&&t.Cornerstone_NoConflict;"function"==typeof define&&define.amd?define(["bglib","jquery"],e):"object"==typeof module&&module.exports?module.exports=e(require("bglib"),require("jquery")):(t.Cornerstone=e(t.bglib),i||(t.CS=t.Cornerstone))}(global="undefined"!=typeof self?self:this,function(t){"undefined"!==global.Sortable&&global.Sortable;var d="undefined"!==global.jQuery?global.jQuery:null;"undefined"==typeof bglib&&(bglib=t);var o={name:"Cornerstone UI",version:"1.0",__onLoadHandlers:[],__hasLoaded:!1},n=function(){};n.getName=function(){return _this.name},n.getVersion=function(){return _this.version},n.setInstance=function(t,e,i){bglib.El.data(t,"CS_"+e,i)},n.getInstance=function(t,e){return bglib.El.data(t,"CS_"+e)},n.init=function(){var t=document.querySelector("html");for(var e in bglib.El.removeClass(t,"cs-nojs"),bglib.El.addClass(t,"cs-js"),n.autoload)n.autoload.hasOwnProperty(e)&&n.autoload[e]();o.__hasLoaded=!0;for(var i=0;i<o.__onLoadHandlers.length;i++)o.__onLoadHandlers[i]();console.log("Cornerstone:inited")},n.onLoad=function(t){o.__hasLoaded||bglib.DT.isFunction(t)&&o.__onLoadHandlers.push(t)},n.fn={},(n.autoload={}).factory=function(l,r,d,h){return h=h||[],function(){for(var t=document.querySelectorAll(r),e=0;e<t.length;e++){var i=t[e].getAttribute(d);i=i&&""!=i.trim()?JSON.safeParse(i.trim()):{};for(var o=0;o<h.length;o++){var n=h[o],s=bglib.fn.toCamelCase(n),a=t[e].getAttribute("data-"+n);t[e].removeAttribute("data-"+n),void 0!==a&&(l.handleDataAttr?(a=l.handleDataAttr(n,a,i),bglib.DT.isObject(a)?i=Object.deepMerge(i,a):a&&(i[s]=a)):a&&(i[s]=a))}new l(t[e],i)}}},bglib.fn.documentReady(function(){n.init()});var i=bglib.EventModule,e=i.extend({Name:void 0,instanceId:void 0,$el:void 0,dataValue:void 0,defaultOptions:void 0,options:void 0,constructor:function(t,e){t&&(this.$el=d(t),t=this.$el[0]),this.defaultOptions={},this.options=e||{},bglib.DT.isObject(e)||(this.options={}),this.instanceId=bglib.fn.rand(),t&&(n.setInstance(t,this.Name,this),this.$el.attr("data-cs-instance",this.Name),this.dataValue=this.$el.attr("data-"+this.Name.lowercaseFirst()),this.$el.removeAttr("data-"+this.Name.lowercaseFirst())),i.apply(this,arguments)},getOption:function(t){return this.options.hasOwnProperty(t)?this.options[t]:this.defaultOptions.hasOwnProperty(t)?this.defaultOptions[t]:null},setOption:function(t,e){this.options[t]=e}});n.BaseComponent=e;var s=i.extend({Name:void 0,instanceId:void 0,defaultOptions:void 0,options:void 0,constructor:function(t){this.defaultOptions={},this.options=t||{},bglib.DT.isObject(t)||(this.options={}),this.instanceId=bglib.fn.rand(),i.apply(this,arguments)},getOption:function(t){return this.options.hasOwnProperty(t)?this.options[t]:this.defaultOptions.hasOwnProperty(t)?this.defaultOptions[t]:null},setOption:function(t,e){this.options[t]=e}});n.JsComponent=s;var a,l,r,h,c,p,u,f,g,m,v,b,$,w,x,C,y,O,P,T,k,I,E,H=i.extend({Name:void 0,defaultOptions:void 0,options:void 0,constructor:function(t,e){this.defaultOptions={},this.options=e||{},bglib.DT.isObject(e)||(this.options={}),i.apply(this,arguments)},getOption:function(t){return this.options.hasOwnProperty(t)?this.options[t]:this.defaultOptions.hasOwnProperty(t)?this.defaultOptions[t]:null},setOption:function(t,e){this.options[t]=e}});return n.BaseModule=H,a=n,l=bglib.DomEvents,r=a.BaseModule.extend({Name:"Breakpoint",breakpoints:void 0,breakpointsPx:void 0,current:void 0,$html:void 0,init:function(){var a=this;this.defaultOptions={breakpoints:[["sm","40em"],["md","64em"],["lg","90em"],["xlg","105em"]]},this.breakpoints=this.getOption("breakpoints"),this.breakpointsPx=[],l.document.on("ready",function(){a.$html=d("html");var t=d('<div class="cornerstone-bp"></div>');t.css({position:"fixed",top:"-999px",left:"-999px",width:"0",height:"0"}),t.appendTo("body");var e=t.css("content"),i=e?e.match(/sm:(\w+);md:(\w+);lg:(\w+);xlg:(\w+)/):null;t.remove(),i&&(a.breakpoints=[["sm",i[1]],["md",i[2]],["lg",i[3]],["xlg",i[4]]]);for(var o=0;o<a.breakpoints.length;o++){var n=a.breakpoints[o][0],s=a.breakpoints[o][1];s.match(/\d+px/)?a.breakpointsPx.push([n,parseInt(s,10)]):a.breakpointsPx.push([n,parseInt(bglib.fn.toPx(s),10)])}a.current=a.determineBreakPoint(),a.$html.addClass("cs-bp-"+a.current),a.trigger("load",{caller:a,current:a.current})}),bglib.EventUtil.addHandler(window,"resize",function(t){var e=a.determineBreakPoint();e!=a.current&&(void 0===a.current&&(a.current=e),a.handleBreakpointChange(e),a.current=e)}),this.on("change",function(t){t.old&&(a.$html.removeClass("cs-bp-"+t.old),a.$html.addClass("cs-bp-"+t.current))})},handleBreakpointChange:function(t){this.trigger("change",{caller:this,old:this.current,current:t})},getBreakPoint:function(t){var e;return!t&&this.current||(e=this.determineBreakPoint(),this.current!==e&&(void 0===_self.current&&(this.current=bp),this.handleBreakpointChange(e),this.current=e)),this.current},determineBreakPoint:function(){for(var t=window.innerWidth,e=null,i=0;i<this.breakpointsPx.length;i++){var o=this.breakpointsPx[i][0];this.breakpointsPx[i][1]<=t&&(e=o)}return e||(e="tn"),e}},{}),a.BreakPoint=new r,c=(h=n).BaseComponent.extend({Name:"Accordion",init:function(){var i=this;this.defaultOptions={childSelector:".accordion-item",multipleOpen:!1,allClosed:!0},this.$el.addClass("accordion-"+this.instanceId);var t=this.getChildren();return t.each(function(){var t=d(this),e=t.find(".accordion-content-wrap");if(e.length||((e=d('<div class="accordion-content-wrap"></div>')).append(t.find(".accordion-content").children()),t.find(".accordion-content").append(e)),!(i=t.find(".accordion-title .open-indicator")).length){var i=d('<span class="open-indicator"><span>');CornerstoneResources.icon("arrow",i),t.find(".accordion-title").append(i)}}),t.each(function(){var t=d(this);i.setHeight(t),t.hasClass("pre-opened")&&(t.removeClass("pre-opened"),i.openItem(t))}),this.$el.on("click",".accordion-item .accordion-title",function(t){var e=d(this);e.hasClass("accordion-item")||(e=e.closest(".accordion-item")),i.toggleItem(e),t.preventDefault()}),bglib.DomEvents.window.on("resize",function(){i.getChildren().each(function(){var t=d(this);t.hasClass("opened-item")&&i.setHeight(t)})}),this},getChildren:function(t){return this.$el.find(this.getOption("childSelector"))},closeAll:function(e){var i=this;!e||e instanceof d||(e=d(e)),this.getChildren().each(function(){var t=d(this);this!=e[0]&&t.hasClass("opened-item")&&i.closeItem(t)})},setHeight:function(t){var e=t.find(".accordion-content");e.css("height",e.find(".accordion-content-wrap").css("height"))},toggleItem:function(e){if(e instanceof d||(e=d(e)),e.hasClass("opened-item"))if(this.getOption("allClosed"))this.closeItem(e);else{var i=!1;this.getChildren().each(function(){var t=d(this);!i&&this!=e[0]&&t.hasClass("opened-item")&&(i=!0)}),i&&this.closeItem(e)}else this.getOption("multipleOpen")||this.closeAll(e),this.openItem(e)},openItem:function(t){t instanceof d||(t=d(t)),this.trigger("beforeOpen",{item:t})||(this.setHeight(t),t.addClass("opened-item"),this.trigger("opened",{item:t}))},closeItem:function(t){t instanceof d||(t=d(t)),this.trigger("beforeClose",{item:t})||(t.removeClass("opened-item"),this.trigger("closed",{item:t}))}},{}),h.Accordion=c,h.autoload.Accordion=h.autoload.factory(c,"[data-accordion]","data-accordion"),p=n,d(function(){d("body").on("click",".cs-close",function(o){var t=d(this),e=t.attr("data-close-target")||null;(e=e?d(e):t.closest("[data-cs-instance]")).each(function(){var t=d(this),e=t.attr("data-cs-instance"),i=null;e&&""!=e.trim()&&(i=p.getInstance(t[0],e))&&i.handleCloseAction&&(i.handleCloseAction(),o.preventDefault())})})}),f=(u=n).BaseComponent.extend({Name:"Modal",scrollPreventor:void 0,pageOffset:void 0,init:function(){var t,e=this;this.scrollPreventor=function(t){e.isParentBody&&global.scrollTo(e.pageOffset.x,e.pageOffset.y),t.preventDefault(),t.stopPropagation()},this.defaultOptions={parent:"window"},this.$el.addClass("modal-"+this.instanceId);var i=!1;"window"==this.getOption("parent")?(t=d(document.querySelector("body")),i=!0):t=d(this.getOption("parent")),this.id=this.$el.attr("id")?this.$el.attr("id")+"-wrap":"modal-wrap-"+bglib.fn.rand();var o=d('<div class="modal-wrap"></div>');o.attr("id",this.id),o.appendTo(t),o.append(this.$el),o.attr("data-parent",i?"window":"element"),o.attr("data-state","closed"),this.$el.find(".modal-header").length||this.$el.prepend('<div class="modal-header"></div>'),this.$el.find(".modal-content").length||d('<div class="modal-content"></div>').insertAfter(this.$el.find(".modal-header")),this.$el.find(".modal-footer").length||d('<div class="modal-footer"></div>').insertAfter(this.$el.find(".modal-content")),this.$wrap=o;var n=this.$el.hasClass("modal-fixed-header"),s=this.$el.hasClass("modal-fixed-footer"),a=this.$el.hasClass("modal-fill");if(n&&s){this.$wrap.addClass("modal-fixed-header"),this.$wrap.addClass("modal-fixed-footer");var l=d('<div class="modal-fixed-wrap"></div>'),r=this.$el.find(".modal-content");r.length?l.insertBefore(r):l.prependTo(r),l.append(this.$el.find(".modal-content"))}else if(n){this.$wrap.addClass("modal-fixed-header"),(l=d('<div class="modal-fixed-wrap"></div>')).appendTo(this.$el),l.append(this.$el.find(".modal-content")),l.append(this.$el.find(".modal-footer"))}else if(s){this.$wrap.addClass("modal-fixed-footer"),(l=d('<div class="modal-fixed-wrap"></div>')).prependTo(this.$el),l.append(this.$el.find(".modal-header")),l.append(this.$el.find(".modal-content"))}return a&&this.$wrap.addClass("modal-fill"),this.$el.attr("tabindex","0"),bglib.DomEvents.window.on("keyup",function(t){"Escape"==t.originalEvent.key&&e.isOpen()&&e.isFocused()&&e.close()}),o.on("click",function(t){d(t.originalEvent.target).hasClass("modal-wrap")&&e.isOpen()&&e.close()}),this.isParentBody=i,this},isFocused:function(){var t=document.activeElement;if(t){var e=d(t);if(e.hasClass(".modal"))return!0;var i=e.closest(".modal");if(i.length&&this.$el[0]===i[0])return!0}return!1},isOpen:function(){return"opened"==this.$wrap.attr("data-state")},open:function(){var t=this;this.trigger("beforeOpen",{model:this.$el})||(this.$wrap.animate({opacity:1},{queue:!1,duration:400,start:function(){t.$wrap.attr("data-state","opening")},done:function(){t.$wrap.attr("data-state","opened"),t.trigger("opened",{model:t.$el})}}),this.$el[0].focus(),this.isParentBody&&(this.pageOffset={x:global.pageXOffset,y:global.pageYOffset},bglib.EventUtil.addHandler(window,"scroll",this.scrollPreventor),d(document.querySelector("body")).addClass("modal-open")))},close:function(){this.trigger("beforeClose",{model:this.$el})||(this.$wrap.attr("data-state","closed"),this.isParentBody&&(bglib.EventUtil.removeHandler(window,"scroll",this.scrollPreventor),d(document.querySelector("body")).removeClass("modal-open")),this.$wrap.css("opacity",0),this.trigger("closed",{model:this.$el}))},getHeader:function(){return this.$el.find(".modal-header")[0]},setHeader:function(t){t=t||"",this.$el.find(".modal-header").html(t)},getContent:function(){return this.$el.find(".modal-content")[0]},setContent:function(t){t=t||"",this.$el.find(".modal-content").html(t)},getFooter:function(){return this.$el.find(".modal-footer")[0]},setFooter:function(t){t=t||"",this.$el.find(".modal-footer").html(t)},getScrollObject:function(){return this.$el.find(".modal-fixed-wrap").length?this.$el.find(".modal-fixed-wrap")[0]:this.$wrap[0]},scrollToTop:function(){this.getScrollObject().scrollTop=0},scrollToBottom:function(){var t=this.getScrollObject();t.scrollTop=t.scrollHeight},scrollTo:function(t){var e=this.getScrollObject();(t=t?parseInt(t,10):0)<0?t=0:t>e.scrollHeight&&(t=e.scrollHeight),e.scrollTop=t},handleCloseAction:function(){this.isOpen()&&this.close()}},{}),u.Modal=f,u.autoload.Modal=u.autoload.factory(f,"[data-modal]","data-modal"),d(function(){d("button[data-modal-target]").each(function(){var i=d(this);i.on("click",function(){var t=d(i.attr("data-modal-target"));if(t.length){var e=u.getInstance(t[0],"Modal");e&&e.open()}})})}),g=n,m=bglib.DomEvents,v=g.BaseComponent.extend({Name:"Dropdown",$action:void 0,$content:void 0,init:function(){var n=this;this.$el.addClass("dropdown-"+this.instanceId),this.defaultOptions={action:"click",anchor:"bottom-left"},this.$action=this.$el.find(".dropdown-action"),this.$content=this.$el.find(".dropdown-content");var t=this.$action.css("margin-bottom");return this.$action.css("margin-bottom",0),this.$el.attr("data-anchor")?this.setOption("anchor",this.$el.attr("data-anchor")):this.$el.attr("data-anchor",this.getOption("anchor")),t&&this.$el.css("margin-bottom",t),"hover"==this.getOption("action")||this.$el.hasClass("dropdown-hover")?(this.$action.on("mouseover",function(t){n.isOpen()||n.open()}),this.$el.on("mouseleave",bglib.fn.debounce(function(t){n.isOpen()&&n.close()},10))):(this.$action.on("click",function(t){n.isOpen()?n.close():n.open()}),m.window.on("click",function(t){var e=d(t.originalEvent.target),i=(t.originalEvent.target,!1),o="dropdown-"+n.instanceId;e.hasClass(o)||(i=0==e.closest("."+o).length),n.isOpen()&&i&&n.close()})),bglib.DomEvents.window.on("resize",bglib.fn.debounce(function(){n.isOpen()&&n.updateHeight()},50)),this.$el.attr("data-state","closed"),this},isOpen:function(){return"opened"==this.$el.attr("data-state")},open:function(){this.determinePosition();this.trigger("beforeOpen",{dropdown:this.$el})||(this.updateHeight(),this.$el.attr("data-state","opened"),this.trigger("opened",{dropdown:this.$el}))},close:function(){this.trigger("beforeClose",{dropdown:this.$el})||(this.$el.attr("data-state","closed"),this.trigger("close",{dropdown:this.$el}))},updateHeight:function(){this.$content.css("height",this.$content.find(".dropdown-content-wrap").css("height"))},determinePosition:function(){this.getOption("anchor"),this.$el[0].getBoundingClientRect()},handleCloseAction:function(){this.isOpen()&&this.close()}},{}),g.Dropdown=v,g.autoload.Dropdown=g.autoload.factory(v,"[data-dropdown]","data-dropdown"),b=n,$=bglib.DomEvents,w=b.BaseComponent.extend({Name:"PriorityPlus",dropdown:void 0,init:function(){var t=this;this.defaultOptions={action:"click",anchor:"bottom-left"},this.$el.addClass("priority-plus-"+this.instanceId);var e=d('\t\t\t\t<li class="item overflow-toggle-item dropdown">\t\t\t\t\t<button class="cs-button dropdown-action button-primary"><svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="512px" height="512px" viewBox="0 0 512 512" enable-background="new 0 0 512 512" xml:space="preserve"><g id="Icon_7_"><g><path d="M416,277.333H277.333V416h-42.666V277.333H96v-42.666h138.667V96h42.666v138.667H416V277.333z"/></g></g></svg></button>\t\t\t\t\t<div class="dropdown-content"><ul class="dropdown-content-wrap"></ul></div>\t\t\t\t</li>\t\t\t');return e.appendTo(this.$el.find(".priority-plus-items")),this.dropdown=new b.Dropdown(e[0],{anchor:"bottom-right"}),t.handleResize(),$.window.on("resize",bglib.fn.debounce(function(){t.handleResize()},1)),this},handleResize:function(){this.resetItems();for(var t=this.$el.find(".priority-plus-items")[0].getBoundingClientRect(),e=this.dropdown.$el[0].getBoundingClientRect(),i=t.width-e.width,o=this.getItems(),n=!1,s=0;s<o.length;s++){var a=d(o[s]),l=a[0].getBoundingClientRect();(i<l.x-t.x+l.width||n)&&(this.dropdown.$el.find(".dropdown-content-wrap").append(a[0]),n||(n=!0))}this.toggleAction(),this.trigger("reflow",{priorityPlus:this.$el,items:this.getItems(),overflow:this.dropdown.$el.find(".dropdown-content-wrap > .item")})},toggleAction:function(){this.dropdown.$el.find(".dropdown-content-wrap").find(".item").length?this.dropdown.$el.css("visibility","visible"):this.dropdown.$el.css("visibility","hidden")},resetItems:function(){var t=this.$el.find(".priority-plus-items");this.dropdown.$el.find(".dropdown-content-wrap").find(".item").each(function(){t.append(this)}),this.dropdown.$el.css("visibility","hidden"),this.trigger("reset",{priorityPlus:this.$el,items:this.getItems()})},getItems:function(){return this.$el.find(".priority-plus-items > .item:not(.overflow-toggle-item)")}},{}),b.PriorityPlus=w,b.autoload.PriorityPlus=b.autoload.factory(w,"[data-priority-plus]","data-priority-plus"),C=(x=n).BaseComponent.extend({Name:"Pagination",$ellipsis:void 0,$gotoTextbox:void 0,initEllipsis:function(t){t.hasClass("ellipsis")||t.addClass("ellipsis"),d('<div class="ellipsis-input" data-showing="false"><input class="cs-input" type="text"></div>').appendTo(t)},init:function(){var o=this;this.defaultOptions={startPad:2,endPad:2,delta:2,currentPage:1,maxPages:1,ellipsisTop:!1},this.$el.addClass("pagination-"+this.instanceId),this.$ellipsis=this.$el.find("li.ellipsis:not(.no-popup)"),this.$ellipsis.each(function(){o.initEllipsis(d(this))}),this.$el.on("click","li.ellipsis:not(.no-popup)",function(t){var e=d(this),i=d(t.originalEvent.target);i.hasClass("ellipsis-input")||(i=i.closest(".ellipsis-input")),i.length||o.toggleEllipsisTextbox(e.find(".ellipsis-input"))}),bglib.DomEvents.window.on("click",function(t){if(o.isEllipsisTextboxShowing()){var i=d(t.originalEvent.target);i.hasClass("ellipsis")||(i=i.closest(".ellipsis")),o.$ellipsis.each(function(){var t=d(this),e=t.find(".ellipsis-input");"true"==e.attr("data-showing")&&(!i.length||i.length&&i[0]!=t[0])&&o.hideEllipsisTextbox(e)})}}),this.$el.on("keydown",".ellipsis-input input",function(t){_this=this,13==t.originalEvent.keyCode&&""!=_this.value.trim()&&o.trigger("jumpTo",{target:_this,caller:o,page:_this.value})}),this.$el.on("click","li > a",function(t){var e=d(this).closest("li");e.hasClass("disabled")||e.hasClass("current")||e.hasClass("ellipsis")||o.trigger("itemClick",{target:this,caller:o,originalEvent:t.originalEvent})&&t.preventDefault()}),this.on("renderItem",function(t){o.renderItem(t)}),window["m"+this.instanceId]=this},render:function(t,e){t=(e=e||this.getOption("maxPages"))<(t=t<0?0:t)?e:t,this.setOption("maxPages",e),this.setOption("currentPage",t);var i=this.getPagination(t,e,this.getOption("delta"),this.getOption("startPad"),this.getOption("endPad"));i.unshift("prev"),i.push("next");this.$el.find("li:not(.template)").remove(),console.log(i);for(var o=0;o<i.length;o++){var n=d("<li></li>");if("..."==i[o])this.initEllipsis(n);else{var s="page",a=!1;"prev"==i[o]?(s=i[o],a=t<2):"next"==i[o]&&(s=i[o],a=t==e),s="prev"==i[o]?"prev":s,s="next"==i[o]?"next":s,this.trigger("renderItem",{caller:this,el:n[0],current:t,item:{value:i[o],type:s,disabled:a,current:t==i[o]}})}this.$el.append(n)}},renderItem:function(t){var e=t.item,i="";"page"==e.type?i=e.disabled?'<span data-page="{{page}}">{{page}}</span>':'<a href="?page={{page}}">{{page}}</a>':"prev"==t.type?i=e.disabled?'<span data-page="previous">Previous</span>':'<a href="?page='+(t.current-1)+'">Previous</a>':"next"==t.type&&(i=e.disabled?'<span data-page="next">Next</span>':'<a href="?page='+(t.current+1)+'">Next</a>'),t.el.innerHTML=i,e.disabled&&bglib.El.addClass(t.el,"disabled")},isEllipsisTextboxShowing:function(){var t=!1;return this.$ellipsis.each(function(){"true"==d(this).find(".ellipsis-input").attr("data-showing")&&(t=!0)}),t},toggleEllipsisTextbox:function(t){"true"==t.attr("data-showing")?this.hideEllipsisTextbox(t):this.showEllipsisTextbox(t)},showEllipsisTextbox:function(t){t.attr("data-showing","true"),t.find("input")[0].value="",t.find("input")[0].focus()},hideEllipsisTextbox:function(t){t.attr("data-showing","false")},getPagination:function(t,e,i,o,n){o=o||1,n=n||1;for(var s=t-(i=i||2),a=t+i+1,l=[],r=[],d=-1,h=1;h<=e;h++){(h<=o||e-(n-1)<=h||s<=h&&h<a)&&l.push(h)}for(h=0;h<l.length;h++)-1!=d&&(l[h]-d==2?r.push(h+1):l[h]-d!=1&&r.push("...")),r.push(l[h]),d=l[h];return r}},{handleDataAttr:function(t,e){switch(t){case"max-pages":case"current-page":e=parseInt(e,10)}return e}}),x.Pagination=C,x.autoload.Pagination=x.autoload.factory(C,"[data-pagination]","data-pagination",["max-pages","current-page","start-pad","end-pad","delta","ellipsis-top"]),O=(y=n).BaseComponent.extend({Name:"Tabs",init:function(){var e=this;this.defaultOptions={},this.$el.addClass("tabs-"+this.instanceId),this.selector=".tabs-"+this.instanceId+" > ul li a, .tabs-"+this.instanceId+" > li a",d(document.querySelector("body")).on("click",this.selector,function(t){t.preventDefault(),e.openTab(d(this).closest("li")[0])});var n=this.$el.find("li.active"),s=this.$el.hasClass("vertical-tabs")?"inline-block":"block";return d(this.selector).each(function(t){var e=d(this),i=e.closest("li"),o=!n.length&&0==t;i[0]===n[0]||o?(d(e.attr("href")).css("display",s),i.addClass("active")):d(e.attr("href")).css("display","none")}),this},openTab:function(o){this.$el.find("li.active");var n=this.$el.hasClass("vertical-tabs")?"inline-block":"block";d(this.selector).each(function(t){var e=d(this),i=e.closest("li");i[0]!==o?(d(e.attr("href")).css("display","none"),i.removeClass("active")):(d(e.attr("href")).css("display",n),i.addClass("active"))})}},{}),y.Tabs=O,y.autoload.Tabs=y.autoload.factory(O,"[data-tabs]","data-tabs"),T=(P=n).JsComponent.extend({Name:"Toast",$container:void 0,init:function(){this.defaultOptions={html:"This is a toast.",displayLength:4e3,class:null,closeCallback:null,position:"right"},this.$el=d("<div></div>"),this.$el.addClass("toast"),this.$el.addClass("toast-"+this.instanceId),this.$el.append('<div class="toast-content">'+this.getOption("html")+"</div>"),this.getOption("class")&&this.$el.addClass(this.getOption("class")),this.$container=d("body").find(".toast-container"),this.$container.length||(this.$container=d('<div class="toast-container"></div>'),d("body").append(this.$container)),this.$container.append(this.$el);var t=this;return setTimeout(function(){t.$el.animate({top:-50,opacity:0},{queue:!1,start:function(){t.$el.addClass("removing"),t.$el.css("position","absolute")},done:function(){t.$el.remove(),t.getOption("closeCallback")&&t.getOption("closeCallback")()}})},this.getOption("displayLength")),this}},{}),P.Toast=T,k=n,I=bglib.DomEvents,E=k.BaseComponent.extend({Name:"Tooltip",tooltip:void 0,$tooltip:void 0,delayTimer:void 0,init:function(){var e=this;return this.defaultOptions={html:null,position:"top",delay:100},this.dataValue?this.tooltip=this.dataValue:this.$el.attr("title")&&(this.tooltip=this.$el.attr("title"),this.$el.removeAttr("title")),this.tooltip&&(this.$el.on("mouseenter",function(){var t=e.getOption("delay");e.delayTimer=setTimeout(function(){e.delayTimer=null,e.showTooltip()},t)}),this.$el.on("mouseleave",function(){e.delayTimer&&clearTimeout(e.delayTimer),e.hideTooltip()})),I.window.on("resize",function(){if(e.$tooltip){var t=e.determinePosition();e.$tooltip.css(e.calculatePosition(t))}}),this},calculatePosition:function(o,t){var n=this,s=n.$el[0].getBoundingClientRect();s.top=s.top-window.scrollY,s.left=s.top-window.scrollX;var e={},a=function(){var t={};t.top=s.top-n.$tooltip.outerHeight()+"px";var e=s.left;return n.$el.outerWidth()<n.$tooltip.outerWidth()?e-=(n.$tooltip.outerWidth()-n.$el.outerWidth())/2:e+=(n.$el.outerWidth()-n.$tooltip.outerWidth())/2,(e<0||e+n.$tooltip.outerWidth()>window.innerWidth)&&(e=0),t.left=e+"px",t};switch(t){case"top":e=a();break;case"bottom":e=function(){var t={};t.top=s.top+n.$el.outerHeight()+"px";var e=s.left;return n.$el.outerWidth()<n.$tooltip.outerWidth()?e-=(n.$tooltip.outerWidth()-n.$el.outerWidth())/2:e+=(n.$el.outerWidth()-n.$tooltip.outerWidth())/2,(e<0||e+n.$tooltip.outerWidth()>window.innerWidth)&&(e=0),t.left=e+"px",t}();break;case"left":e=function(){var t,e={},i=s.left-8;i<150&&o.outerWidth()>i?e=a():(o.css("max-width",i+"px"),t=n.$el.outerHeight()<o.outerHeight()?s.top-Math.ceil(o.outerHeight()-n.$el.outerHeight())/2:s.top+Math.ceil(n.$el.outerHeight()-o.outerHeight())/2,e.top=t+"px",e.left=s.left-4-o.outerWidth(),e.left=e.left+"px");return e}();break;case"right":e=function(){var t,e={},i=window.innerWidth-s.left-n.$el.outerWidth()-8;i<150&&o.outerWidth()>i?e=a():(o.css("max-width",i+"px"),t=n.$el.outerHeight()<o.outerHeight()?s.top-Math.ceil(o.outerHeight()-n.$el.outerHeight())/2:s.top+Math.ceil(n.$el.outerHeight()-o.outerHeight())/2,e.top=t+"px",e.left=s.left+n.$el.outerWidth()+4,e.left=e.left+"px");return"4px"==e.left&&(delete e.left,e.right="4px"),"0px"==e.left&&(delete e.left,e.right="0px"),e}()}return e},showTooltip:function(){if(!this.$tooltip){this.$tooltip=d('<div class="tooltip"></div>'),this.$tooltip.addClass("tooltip-"+this.instanceId),this.$tooltip.append('<div class="tooltipContent">'+this.tooltip+"</div>");var t=this.determinePosition();this.$tooltip.attr("data-position",t),d("body").append(this.$tooltip),this.$tooltip.css(this.calculatePosition(this.$tooltip,t))}},hideTooltip:function(){this.$tooltip&&(this.$tooltip.remove(),this.$tooltip=null)},determinePosition:function(){var t=this.getOption("position");return this.$el.attr("data-position")&&(t=this.$el.attr("data-position")),t}},{}),k.Tooltip=E,k.autoload.Tooltip=k.autoload.factory(E,"[data-tooltip]","data-tooltip"),n});