!function(t,e){var n="undefined"!==t.Cornerstone_NoConflict&&t.Cornerstone_NoConflict;"function"==typeof define&&define.amd?define(["bglib"],e):"object"==typeof module&&module.exports?module.exports=e(require("bglib")):(t.Cornerstone=e(t.bglib),n||(t.CS=t.Cornerstone))}(global="undefined"!=typeof self?self:this,function(t){"undefined"!==global.Sortable&&global.Sortable,"undefined"!==global.jQuery&&global.jQuery;!function(t,e){if("function"==typeof define&&define.amd)define([],e);else if("object"==typeof r&&r.exports)r.exports=e();else{var n=t.bglib,i=t.bglib=e();i.noConflict=function(){return t.bglib=n,i}}}(window,function(){var i,t,e,n,r,o,s,a,l,c,d,h,u,p,f,g,m,v,b,y,w,x,O,E,C,$,A,T,S="undefined"!==window.jQuery?window.jQuery:null,j={name:"bglib",version:"1.0",modules:{}},P=function(){};return P.fn={},P.getName=function(){return j.name},P.getVersion=function(){return j.version},P.fn.call=function(t,e){return t.apply(null,e)},Date.getMonthName||(Date.label={month:["January","February","March","April","May","June","July","August","September","October","November","December"],day:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Date.label.month.abbr=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Date.label.day.abbr=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Date.getMonthName=function(t,e){return 12<t?t=12:t<1&&(t=1),t-=1,(e=e||!1)?Date.label.month.abbr[t]:Date.label.month[t]}),Date.getMonthIndex||(Date.getMonthIndex=function(t){t=t.toLowerCase().uppercaseFirst();var e=Date.label.month.indexOf(t);return-1===e&&(e=Date.label.month.abbr.indexOf(t)),-1!==e?e+1:null}),Date.getDayName||(Date.getDayName=function(t,e){return 7<t?t=7:t<1&&(t=1),t-=1,(e=e||!1)?Date.label.day.abbr[t]:Date.label.day[t]}),Date.getDayIndex||(Date.getDayIndex=function(t){t=t.toLowerCase().uppercaseFirst();var e=Date.label.day.indexOf(t);return-1===e&&(e=Date.label.day.abbr.indexOf(t)),-1!==e?e+1:null}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),String.prototype.uppercaseFirst||(String.prototype.uppercaseFirst=function(){return this.charAt(0).toUpperCase()+this.slice(1)}),String.prototype.lowercaseFirst||(String.prototype.lowercaseFirst=function(){return this.charAt(0).toLowerCase()+this.slice(1)}),Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),Array.prototype.concatUnique||(Array.prototype.concatUnique=function(t){for(var e=0;e<t.length;e++)-1===this.indexOf(t[e])&&this.push(t[e]);return this}),Array.prototype.pushUnique||(Array.prototype.pushUnique=function(t){return-1===this.indexOf(t)&&this.push(t),this}),window.isObject||(window.isObject=function(t){return null!==t&&("function"==typeof t||"object"==typeof t)}),Object.isObject||(Object.isObject=window.isObject),Object.copy||(Object.copy=function(t){if(null===t||"object"!=typeof t)return t;var e=t.constructor();return Object.assign(e,t)}),Object.copyMerge||(Object.copyMerge=function(t,e){return Object.assign(Object.copy(t),e)}),Object.deepMerge||(Object.deepMerge=function(){var t=Array.prototype.slice.call(arguments);if(0===t.length)return{};var e=!1;2<t.length&&!0===t[t.length-1]&&(e=!0,t.pop());for(var n=e?Object.assign({},t.shift()):t.shift(),i=0;i<t.length;i++)for(var o in t[i])t[i].hasOwnProperty(o)&&(Object.isObject(t[i][o])&&!Array.isArray(t[i][o])&&n.hasOwnProperty(o)&&Object.isObject(n[o])?n[o]=Object.deepMerge(n[o],t[i][o],!0):Array.isArray(t[i][o])&&n.hasOwnProperty(o)&&Array.isArray(n[o])?n[o]=n[o].concat(t[i][o]):(Object.isObject(t[i][o])&&(t[i][o]=Object.assign({},t[i][o])),n[o]=t[i][o]));return n}),Object.deepCopyMerge||(Object.deepCopyMerge=function(){var t=Array.prototype.slice.call(arguments);if(0===t.length)return{};for(var e=Object.assign({},t.shift()),n=0;n<t.length;n++)for(var i in t[n])t[n].hasOwnProperty(i)&&(Object.isObject(t[n][i])&&!Array.isArray(t[n][i])&&e.hasOwnProperty(i)&&Object.isObject(e[i])?e[i]=Object.deepCopyMerge(e[i],t[n][i]):Array.isArray(t[n][i])&&e.hasOwnProperty(i)&&Array.isArray(e[i])?e[i]=e[i].concat(t[n][i]):(Object.isObject(t[n][i])&&(t[n][i]=Object.assign({},t[n][i])),e[i]=t[n][i]));return e}),Object.keys||(Object.keys=function(){"use strict";var o=Object.prototype.hasOwnProperty,r=!{toString:null}.propertyIsEnumerable("toString"),s=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],a=s.length;return function(t){if("function"!=typeof t&&("object"!=typeof t||null===t))throw new TypeError("Object.keys called on non-object");var e,n,i=[];for(e in t)o.call(t,e)&&i.push(e);if(r)for(n=0;n<a;n++)o.call(t,s[n])&&i.push(s[n]);return i}}()),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(t,e){"use strict";if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),i=1;i<arguments.length;i++){var o=arguments[i];if(null!=o)for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(n[r]=o[r])}return n},writable:!0,configurable:!0}),Object.prototype.watch||Object.defineProperty(Object.prototype,"watch",{enumerable:!1,configurable:!0,writable:!1,value:function(e,n){var i=this[e],o=i;delete this[e]&&Object.defineProperty(this,e,{get:function(){return o},set:function(t){return i=o,o=n.call(this,e,i,t)},enumerable:!0,configurable:!0})}}),Object.prototype.unwatch||Object.defineProperty(Object.prototype,"unwatch",{enumerable:!1,configurable:!0,writable:!1,value:function(t){var e=this[t];delete this[t],this[t]=e}}),JSON.safeParse||(JSON.safeParse=function(e,t){if(t=void 0!==t?t:null,null===e)return null;try{e=JSON.parse(e)}catch(t){e=null}return e}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(t){var e=this;if(!document.documentElement.contains(this))return null;do{if(e.matches(t))return e;e=e.parentElement}while(null!==e);return null}),Function.prototype.bind||(i=Array.prototype.slice,Function.prototype.bind=function(){var t=this,e=arguments[0],n=i.call(arguments,1);if("function"!=typeof t)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");return function(){return n.push.apply(n,arguments),t.apply(e,n)}}),P.create=function(t,e,n){if(t=t||{},e=e||{},n=n||"Base",j.modules.hasOwnProperty(n)||(n="Base"),j.modules.hasOwnProperty(n))return j.modules[n].extend(t,e)},P.noop=function(){},P.setRegisteredModule=function(t,e){j.modules[t]=e},P.fn.debounce=function(n,i){var o;return function(){var t=this,e=arguments;clearTimeout(o),o=setTimeout(function(){n.apply(t,e)},i)}},function(t,e){"use strict";t=t||"docReady",e=e||window;var n=[],i=!1,o=!1;function r(){if(!i){i=!0;for(var t=0;t<n.length;t++)n[t].fn.call(window,n[t].ctx);n=[]}}function s(){"complete"===document.readyState&&r()}e[t]=function(t,e){if("function"!=typeof t)throw new TypeError("callback for docReady(fn) must be a function");i?setTimeout(function(){t(e)},1):(n.push({fn:t,ctx:e}),"complete"===document.readyState||!document.attachEvent&&"interactive"===document.readyState?setTimeout(r,1):o||(document.addEventListener?(document.addEventListener("DOMContentLoaded",r,!1),window.addEventListener("load",r,!1)):(document.attachEvent("onreadystatechange",s),window.attachEvent("onload",r)),o=!0))}}("documentReady",P.fn),P.fn.toEm=function(t,e){e=e||document.querySelector("body"),t=parseInt(t,10);var n=document.createElement("div");n.innerHTML="&nbsp;",P.El.css(n,{"font-size":"1em",margin:0,padding:0,height:"auto","line-height":1,border:0}),e.appendChild(n);var i=parseFloat(P.El.css(n,"height"));return P.El.remove(n),(t/i).toFixed(8)+"em"},P.fn.toPx=function(t,e){e=e||document.querySelector("body"),t=parseFloat(t);var n=document.createElement("div");n.innerHTML="&nbsp;",P.El.css(n,{"font-size":"1em",margin:0,padding:0,height:"auto","line-height":1,border:0}),e.appendChild(n);var i=parseFloat(P.El.css(n,"height"));return P.El.remove(n),Math.round(t*i)+"px"},P.fn.formatDecimal=function(t,e){return e=e||2,t&&"0"!==t||(t=0),"string"==typeof t&&(t=t.replace(/[^\d\.]/g,"")),parseFloat(Math.round(100*t)/100).toFixed(e)},P.fn.formatPrice=function(t){return P.fn.formatDecimal(t,2)},P.fn.htmlEntities=function(t){return t.replace(/[\u00A0-\u9999<>\&]/gim,function(t){return"&#"+t.charCodeAt(0)+";"})},P.fn.interpolate=function(t,e){for(var n in e)t=t.replace(new RegExp("{{"+n+"}}","gm"),e[n]);return t},P.fn.iosVersion=function(t){if(/iP(hone|od|ad)/.test(navigator.platform)){var e=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);return[parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3]||0,10)]}return null},P.fn.rand=function(t){return t=t||1e8,Math.floor(Math.random()*t+1)},P.fn.request=function(t,e,n,i){n=n||{};var o="GET"!==(i=i||"GET");e=e||P.noop,e=P.DT.isFunction(e)?{success:e,error:P.noop}:Object.assign({success:P.noop,error:P.noop},e);var r=new XMLHttpRequest;r.open(i,t,!0),r.addEventListener("readystatechange",function(){4==r.readyState&&200==r.status?e.success(r.responseText,r,n):e.error(r.responseText,r,n)},!1),o?(r.setRequestHeader("Content-Type","application/json;charset=UTF-8"),r.send(JSON.stringify(n))):r.send()},P.fn.toCamelCase=function(t){for(var e=t.split("-"),n=e.shift();e.length;)n+=e[0].uppercaseFirst(),e.shift();return n},P.fn.toProperCase=function(t){return P.fn.toCamelCase(t).uppercaseFirst()},t=P,(e=function(){}).extend=function(t,e){e=e||{};var n,i=this;return n=(t=t||{})&&t.hasOwnProperty("constructor")?t.constructor:function(){return i.apply(this,arguments)},n=Object.assign(n,i),(n=Object.assign(n,e)).prototype=Object.create(i.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Object.assign(n.prototype,t),n.__parent=i,n},t.BaseModule=e.extend({constructor:function(){e.apply(this,arguments),this.init&&this.init.apply(this,arguments)}}),t.setRegisteredModule("Base",t.BaseModule),P.AppRouter=P.BaseModule.extend({routes:void 0,init:function(t){if(this.routes={},void 0!==t){var e=Object.deepCopyMerge({},t);this.setRoutes(e)}},processRoute:function(t){return void 0===t.defaults&&(t.defaults={}),void 0===t.requirements&&(t.requirements={}),t.defaultSlugs={keys:[],obj:{},arr:[]},t.pattern=t.pattern.replace(/\/+$/,""),""==t.pattern&&(t.pattern="/"),t.compiledRegex=this.compileRoute(t,t.pattern,t.defaults,t.requirements),t},compileRoute:function(t,e,n,i){var o=e.match(/({([^\/{}]+)})/g),r={};if(o)for(var s=0;s<o.length;s++){var a=o[s];o[s]=o[s].replace(/^({)|(})$/g,"");var l="([^\\/?#]+)";void 0!==i[o[s]]&&(l="("+i[o[s]]+")"),a="\\{"+o[s]+"\\}",t.defaultSlugs.keys.push(o[s]),void 0!==n[o[s]]?(t.defaultSlugs.obj[o[s]]=n[o[s]],t.defaultSlugs.arr.push(n[o[s]]),s==o.length-1&&(l="(?:\\/"+l+"|\\/)?",a="\\/"+a),delete t.defaults[o[s]]):(t.defaultSlugs.obj[o[s]]=void 0,t.defaultSlugs.arr.push(void 0)),r[a]=l}for(var c in e=this.regexEscape(e),r)r.hasOwnProperty(c)&&(e=e.replace(c,r[c]));return e="^"+e+"$",new RegExp(e)},regexEscape:function(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")},setRoutes:function(t){for(var e in this.routes=t,this.routes)this.routes.hasOwnProperty(e)&&(this.routes[e]=this.processRoute(this.routes[e]))},addRoute:function(t,e,n){this.routes[t]=e,void 0!==n&&(this.routes[t].action=n),this.routes[t]=this.processRoute(this.routes[t])},addRoutes:function(t){for(var e in t)t.hasOwnProperty(e)&&(this.routes[e]=t[e],this.routes[e]=this.processRoute(this.routes[e]))},match:function(t){for(var e in""==(t=t.replace(/\/+$/,""))&&(t="/"),this.routes)if(this.routes.hasOwnProperty(e)){var n=t.match(this.routes[e].compiledRegex);if(n){for(var i={obj:Object.copy(this.routes[e].defaultSlugs.obj),arr:this.routes[e].defaultSlugs.arr.slice()},o=0;o<i.arr.length;o++)void 0!==n[o+1]&&(i.obj[this.routes[e].defaultSlugs.keys[o]]=n[o+1],i.arr[o]=n[o+1]);return{action:this.routes[e].action,slugs:i,defaults:Object.copy(this.routes[e].defaults)}}}return null}}),r=(n=P).BaseModule,o=r.extend({__propagationStopped:void 0,__defaultPrevented:void 0,__eventProps:void 0,data:void 0,name:void 0,constructor:function(t,e,n,i){for(var o in r.apply(this,arguments),this.__propagationStopped=!1,this.__defaultPrevented=!1,this.name=t||"UnsetEventName",this.data=n||{},e=e||{},this.__eventProps=e)e.hasOwnProperty(o)&&(this[o]=e[o]);i&&(this.originalEvent=i)},getEventProps:function(){return this.__eventProps},stopPropagation:function(){this.__propagationStopped=!0},isPropagationStopped:function(){return this.__propagationStopped},preventDefault:function(){void 0!==this.originalEvent?this.originalEvent.preventDefault():this.__defaultPrevented=!0},isDefaultPrevented:function(){return void 0!==this.originalEvent?this.originalEvent.defaultPrevented:this.__defaultPrevented}}),n.Event=o,a=(s=P).BaseModule,l=s.Event,c=a.extend({__moduleEvents:void 0,constructor:function(){this.__moduleEvents={},a.apply(this,arguments)},on:function(){var t,e,n,s=this,i=this.resolveArguments("on",arguments);t=i[0],e=i[1],n=i[2],t=""!=t?t.split(" "):[];for(var o=0;o<t.length;o++){var r=t[o].trim();this.__moduleEvents.hasOwnProperty(r)||(this.__moduleEvents[r]={name:r,fn:function(){},handlers:new Map,data:new Map},this.__moduleEvents[r].fn=function(o,r){return o.handlers.forEach(function(t,e){if(!r.isPropagationStopped()&&t){var n=o.data.get(e);n=n||{};var i=new l(e.name,r.getEventProps(),n);e.callback.bind(s)(i),i.isPropagationStopped()&&r.stopPropagation(),i.isDefaultPrevented()&&r.preventDefault()}}),r.isDefaultPrevented()}.bind(this,this.__moduleEvents[r]));var a={name:r,callback:n};this.__moduleEvents[r].handlers.set(a,!0),this.__moduleEvents[r].data.set(a,e)}},off:function(){var t,e,n,i=this.resolveArguments("off",arguments);t=i[0],e=i[1],n=i[2],t=""!=t?t.split(" "):[];for(var o=0;o<t.length;o++){var r,s=t[o],a=s,l=e;this.__moduleEvents[s].handlers.forEach(function(t,e){r||a!=e.name||l!=e.callback||(r=e)}),r&&(n?this.__moduleEvents[s].handlers.set(r,!1):(this.__moduleEvents[s].handlers.delete(r),this.__moduleEvents[s].data.delete(r)))}},trigger:function(t,e){return e instanceof l||(e=new l(t,e)),t in this.__moduleEvents&&this.__moduleEvents[t].fn(e)},hasHandlers:function(t){return!(!this.__moduleEvents.hasOwnProperty(t)||!this.__moduleEvents[t].handlers.size)},resolveArguments:function(t,arguments){var e,n,i,o,r=[].slice.call(arguments);if(e=r.shift(),"on"===t)switch(r.length){case 2:n=r[0],i=r[1];break;case 1:s.DT.isFunction(r[0])&&(i=r[0])}else{switch(r.length){case 2:o=r[0],i=r[1];break;case 1:s.DT.isFunction(r[0])&&(i=r[0])}s.DT.isFunction(r[0])&&(i=r[0])}return n=n||n,i=i||function(){},o=void 0!==o&&o,e=(e=e.trim())?e.replace(/(\s{2,})/," "):"","on"===t?[e,n,i]:[e,i,o]}}),s.EventModule=c,s.setRegisteredModule("Event",c),h=(d=P).EventModule,u=h.extend({dataSet:void 0,dataSetState:void 0,constructor:function(){h.apply(this,arguments);var t=arguments[0]||[];if(t.onChange&&this.on("change",t.onChange),t.data&&Array.isArray(t.data)){var e=t.clone||!1;this.dataSet=e?t.data.slice(0):t.data}else this.dataSet=[];this.dataSetState=new Array(this.dataSet.length).fill(!0),this.triggerChange("set")},getData:function(){var n=this;return this.dataSet.filter(function(t,e){return!!n.dataSetState[e]})},triggerChange:function(t){this.trigger("change",{caller:this,dataSet:this.getData(),type:t})},setData:function(t,e){return e=e||!1,this.dataSet=e?t.slice(0):t,this.dataSetState=new Array(this.dataSet.length).fill(!0),this},determineSort:function(t){return t=t.toLowerCase(),Array.isArray(t)?t:-1!==["desc",">"].indexOf(t)?"desc":"asc"},sort:function(t){for(var r=[],e=0;e<t.length;e++){var n=null,i=null;"string"==typeof t[e]?(n=t[e],i="asc"):Array.isArray(t[e])?(n=t[e][0],i=this.determineSort(t[e][1])):Object.isObject(t[e])&&(n=t[e].name,i=t[e].dir,i=this.determineSort(i)),n&&r.push({name:n,dir:i})}return this.dataSet.sort(function(t,e){for(var n=0;n<r.length;n++){var i=r[n];if(Array.isArray(i.dir)){var o=i.dir(t[i.name],e[i.name]);if(-1!==[-1,1].indexOf(o))return o}else{if(t[i.name]>e[i.name])return"asc"===i.dir?1:-1;if(t[i.name]<e[i.name])return"asc"===i.dir?-1:1}}return 0}),this.triggerChange("sort"),this},detemineFilterType:function(t){return t=t.toLowerCase(),1!==["equals","equal","="].indexOf(t)?"equals":1!==["!equals","!equal","!=","<>"].indexOf(t)?"not-equals":1!==["contains","contain","has"].indexOf(t)?"contains":1!==["!contains","!contain","!has"].indexOf(t)?"not-contains":1!==["<","less-than","lessthan","less"].indexOf(t)?"less-than":1!==[">","greater-than","greaterthan","greater"].indexOf(t)?"greater-than":1!==["starts-with","starts","^"].indexOf(t)?"starts-with":1!==["ends-with","ends","$"].indexOf(t)?"ends-with":1!==["regex"].indexOf(t)?"ends-with":1!==["function","func"].indexOf(t)?"ends-with":"equals"},detemineFilterGlue:function(t){return t=t.toLowerCase(),1!==["and","&"].indexOf(t)?"and":1!==["or","||","|"].indexOf(t)?"or":"and"},filter:function(t,e){e=e||!1;var l=this;l.reset();for(var c={and:[],or:[]},n=0;n<t.length;n++){var i=null,o=null,r=null,s=null;if(Array.isArray(t[n]))switch(t[n].length){case 4:i=t[n][0],o=t[n][1],r=this.determineFilterType(t[n][2]),s=this.detemineFilterGlue(t[n][3]);break;case 3:i=t[n][0],o=t[n][1],r=this.determineFilterType(t[n][2]),s="and";break;case 2:default:i=t[n][0],o=t[n][1],r="equals",s="and"}else Object.isObject(t[n])&&(i=t[n].name,o=t[n].value,r=t[n].type||"equals",s=t[n].glue||"and");i&&("or"==s?c.or.push({name:i,value:o,type:r,glue:s}):c.and.push({name:i,value:o,type:r,glue:s}))}var a=this.dataSet.filter(function(t,e){var n=!0;for(var i in c)if(c.hasOwnProperty(i))for(var o=0;o<c[i].length;o++){var r=c[i][o];switch(r.type){case"not-equals":t[r.name]==r.value&&(n=!1,"and"==i&&(o=c[i].length));break;case"contains":-1===t[r.name].indexOf(r.value)&&(n=!1,"and"==i&&(o=c[i].length));break;case"not-contains":-1!==t[r.name].indexOf(r.value)&&(n=!1,"and"==i&&(o=c[i].length));break;case"less-than":t[r.name]<r.value&&(n=!1,"and"==i&&(o=c[i].length));break;case"greater-than":t[r.name]>r.value&&(n=!1,"and"==i&&(o=c[i].length));break;case"starts-width":t[r.name].substring(0,r.value.length)!=r.value&&(n=!1,"and"==i&&(o=c[i].length));break;case"ends-with":t[r.name].substring(t[r.name]-r.value.length,t[r.name].length)!=r.value&&(n=!1,"and"==i&&(o=c[i].length));break;case"regex":var s=r.flags||"",a=new RegExp(r.value,s);t[r.name].match(a)||(n=!1,"and"==i&&(o=c[i].length));break;case"func":Array.isArray(r.value)&&!1!==r.value(t[r.name])||(n=!1,"and"==i&&(o=c[i].length));break;case"equals":default:t[r.name]!=r.value&&(n=!1,"and"==i&&(o=c[i].length))}}return n||(l.dataSetState[e]=!1),n});return this.triggerChange("filter"),e?a:this},reset:function(){return this.dataSetState=new Array(this.dataSet.length).fill(!0),this.triggerChange("reset"),this}},{sort:function(t,e){return new u({data:t,clone:!0}).sort(e).getData()},filter:function(t,e){return new u({data:t,clone:!0}).filter(e,!0)},filterSort:function(t,e,n){var i=new u({data:t,clone:!0});return i.setData(i.filter(e,!0)).sort(n).getData()}}),d.DatasetModule=u,d.setRegisteredModule("Dataset",u),u.extend({getFoo:function(){return"foo"}},{getFooStatic:function(){return"foo"}}),P.DT={isString:function(t){return"string"==typeof t||t instanceof String},isFinite:function(t){return"undefined"!=typeof isFinite?isFinite(t):"number"==typeof t},isNumber:function(t){return"number"==typeof t&&this.isFinite(t)},isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},isFunction:function(t){return"function"==typeof t},isObject:function(t){return!1!==t&&("function"==typeof t||"object"==typeof t)},isNull:function(t){return null===t},isUndefined:function(t){return void 0===t},isBool:function(t){return"boolean"==typeof t},isRegExp:function(t){return t&&"object"==typeof t&&t.constructor===RegExp},isError:function(t){return t instanceof Error&&void 0!==t.message},isDate:function(t){return t instanceof Date}},P.EventUtil={addHandler:function(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n},removeHandler:function(t,e,n){t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent?t.detachEvent("on"+e,n):t["on"+e]=null}},f=(p=P).Event,g=p.EventUtil,p.EventManager=p.create({target:void 0,attached:void 0,init:function(t){this.target=t,this.attached={}},resolveArguments:function(t,arguments){var e,n,i,o,r=[].slice.call(arguments);if(e=r.shift(),"on"===t)switch(r.length){case 3:n=r[0],i=r[1],o=r[2];break;case 2:p.DT.isString(r[0])?n=r[0]:i=r[0],o=r[1];break;case 1:p.DT.isFunction(r[0])&&(o=r[0])}else switch(r.length){case 3:n=r[0],o=r[1],cache=r[2];break;case 2:p.DT.isString(r[0])?(n=r[0],o=r[1]):p.DT.isFunction(r[0])&&(o=r[0],cache=r[1]);break;case 1:p.DT.isFunction(r[0])&&(o=r[0])}return n=n||null,i=i||i,o=o||function(){},cache="undefined"!=typeof cache&&cache,e=(e=e.trim())?e.replace(/(\s{2,})/," "):"","on"===t?[e,n,i,o]:[e,n,o,cache]},on:function(){var t,e,n,i,a=this,o=this.resolveArguments("on",arguments);t=o[0],e=o[1],n=o[2],i=o[3],t=""!=t?t.split(" "):[];for(var r=0;r<t.length;r++){var l=t[r].trim();this.attached.hasOwnProperty(l)||(this.attached[l]={name:l,fn:function(){},handlers:new Map,data:new Map},this.attached[l].fn=function(r,t){var s=new f(l,{target:a.target},{},t);r.handlers.forEach(function(t,e){if(!s.isPropagationStopped()&&t){var n=r.data.get(e);n=n||{};var i,o=new f(l,{target:a.target},n,s.originalEvent);e.selector?o.originalEvent.target.matches(e.selector)?(e.callback.bind(o.originalEvent.target)(o),o.isPropagationStopped()&&s.stopPropagation()):(i=o.originalEvent.target.closest(e.selector))&&(e.callback.bind(i)(o),o.isPropagationStopped()&&s.stopPropagation()):(e.callback.bind(a.target)(o),o.isPropagationStopped()&&s.stopPropagation())}})}.bind(this.target,this.attached[l]),g.addHandler(this.target,l,this.attached[l].fn));var s={name:l,selector:e,callback:i};this.attached[l].handlers.set(s,!0),this.attached[l].data.set(s,n)}},off:function(){var t,e,n,i,o=this.resolveArguments("off",arguments);t=o[0],e=o[1],n=o[2],i=o[3],t=""!=t?t.split(" "):[];for(var r=0;r<t.length;r++){var s,a=t[r],l=a,c=e,d=n;this.attached[a].handlers.forEach(function(t,e){s||l!=e.name||c!=e.selector||d!=e.callback||(s=e)}),s&&(i?this.attached[a].handlers.set(s,!1):(this.attached[a].handlers.delete(s),this.attached[a].data.delete(s)))}},hasHandlers:function(t){return!(!this.attached.hasOwnProperty(t)||!this.attached[t].handlers.size)}}),function(s){var a=!1,l=!1;"complete"===document.readyState?a=!0:s.EventUtil.addHandler(window,"load",function(t){a=!0}),s.fn.documentReady(function(t){l=!0});var c=s.EventManager,d=s.Event,t=c.extend({isDocument:void 0,isWindow:void 0,init:function(){c.prototype.init.apply(this,arguments),this.isWindow=this.target===window,this.isDocument=this.target===document},on:function(){var t,e,n,i=this,o=this.resolveArguments("on",arguments);t=o[0],o[1],e=o[2],n=o[3];var r=" "+t+" ";this.isWindow&&a&&-1!==r.indexOf(" load ")&&(n(new d("load",{target:i.target},e)),t=(" "+t+" ").replace(" load ",""));this.isDocument&&l&&-1!==r.indexOf(" ready ")&&(n(new d("ready",{target:i.target},e)),t=(" "+t+" ").replace(" ready ",""));r=" "+t+" ";this.isDocument&&-1!==r.indexOf(" ready ")&&(s.fn.documentReady(function(t,e,n){e(new d("ready",{target:i.target},t,n))}.bind(i,e,n)),t=(" "+t+" ").replace(" ready ","")),o[0]=t,c.prototype.on.apply(this,o)}});s.DomEvents={window:new t(window),document:new t(document)}}(P),m=P,(v=function(){this.storage=new WeakMap}).prototype.set=function(t,e,n){this.storage.has(t)||this.storage.set(t,new Map),this.storage.get(t).set(e,n)},v.prototype.get=function(t,e){return this.has(t,e)?this.storage.get(t).get(e):void 0},v.prototype.has=function(t,e){return!!this.hasBase(t)&&this.storage.get(t).has(e)},v.prototype.hasBase=function(t){return this.storage.has(t)},v.prototype.remove=function(t,e){var n=!1;return this.has(t,e)&&(n=this.storage.get(t).delete(e)),this.hasBase(t)&&0===this.storage.get(t).size&&this.storage.delete(t),n},v.prototype.reset=function(t){this.hasBase(t)&&this.storage.delete(t)},m.ElementalData=v,y=(b=P).EventManager,w=new b.ElementalData,x=new WeakMap,(O={getAttributes:function(t){var e={};if(t=O.element(t))for(var n=0,i=t.attributes,o=i.length;n<o;n++)e[i[n].nodeName]=i[n].value;return e},text:function(t){return t?t.innerText||t.textContent:""},addClass:function(t,e){O.hasClass(t,e)||(""!=t.className&&(e=" "+e),t.className=t.className.trim()+" "+e.trim())},removeClass:function(t,e){if(O.hasClass(t,e)){e=" "+e+" ";var n=(" "+t.className+" ").replace(/[\n\t\r]/g," ");n=n.replace(e,""),t.className=n.trim()}},toggleClass:function(t,e){O.hasClass(t,e)?O.removeClass(t,e):O.addClass(t,e)},hasClass:function(t,e){return e=" "+e+" ",-1<(" "+t.className+" ").replace(/[\n\t\r]/g," ").indexOf(e)},css:function(t,e,n){if(void 0===n){var i,o=window.navigator.userAgent.toLowerCase();if(/msie|opera/.test(o)?i=t.currentStyle:/gecko/.test(o)&&(i=document.defaultView.getComputedStyle(t,null)),!b.DT.isObject(e))return null!=i[e]?i[e]:t.style[e];for(var r in e)e.hasOwnProperty(r)&&O.css(t,r,e[r])}else e&&(t.style[e]=n)},data:function(t,e,n){if(!(2<arguments.length))return O.data.get(t,e);O.data.set(t,e,n)}}).data.get=function(t,e){return w.get(t,e)},O.data.set=function(t,e,n){w.set(t,e,n)},O.data.has=function(t,e){return w.has(t,e)},O.data.remove=function(t,e){w.remove(t,e)},O.element=function(t){var e=O.elements(t);return e.length?e[0]:null},O.elements=function(){for(var t=[],e=0;e<arguments.length;e++){var n=arguments[e];b.DT.isString(n)?n=[n]:S&&n instanceof S||b.jLyte&&n instanceof b.jLyte?n=n.toArray():n instanceof NodeList?n=[].slice.call(n):n instanceof DocumentFragment?n=n.childNodes:b.DT.isArray(n)||(n=[n]);for(var i=0;i<n.length;i++)b.DT.isString(n[i])?t=t.concat(O.resolveElements(n[i])):S&&n[i]instanceof S||b.jLyte&&n[i]instanceof b.jLyte?t=t.concat(n[i].toArray()):b.DT.isArray(n[i])?t.concat(n[i]):t.push(n[i])}return t},O.resolveElements=function(t){if(!(t=t.trim())||""==t)return[];var e=[],n=t.match(/^(?:(<[\w\W]+>)|\#([\w-]+)|\.([\w-]+))$/);if(n)if(n[1])if(n=t.match(/^(<\s*(thead|tbody|tfoot|tr|td|th)[^>]*>)(.*)<\s*\/\s*(thead|tbody|tfoot|tr|td|th)\s*>$/))if(n[2]==n[4]){var i="table";"tr"==n[2]?i="thead":-1!==["td","th"].indexOf(n[2])&&(i="tr"),(i=document.createElement(i)).innerHTML=t,e=i.childNodes}else e=[document.createTextNode(t)];else e=document.createRange().createContextualFragment(t).childNodes;else if(n[2]){var o=document.getElementById(n[2]);e=o?[o]:[]}else e=document.querySelectorAll("."+n[3]);else e=(n=t.replace(/[\s,{]+$/gm,"").concat(" {").match(/([^\r\n,{}]+)(\s?,(?=[^}]*{)|\s*{)/))&&!t.match(/^(text\#|txt\#)/)?document.querySelectorAll(t.replace(/[\s,{]+$/gm,"")):(t=t.replace(/^(text\#|txt\#)/,""),[document.createTextNode(t)]);return[].slice.call(e)},O.offset=function(t){var e=t.getBoundingClientRect(),n=window.pageXOffset||document.documentElement.scrollLeft,i=window.pageYOffset||document.documentElement.scrollTop;return{top:e.top+i,left:e.left+n}},O.remove=function(t){if(t instanceof Element)t.parentElement.removeChild(t);else if(t instanceof NodeList||t instanceof HTMLCollection||b.DT.isArray(t))for(var e=t.length-1;0<=e;e--)t[e]&&t[e].parentElement&&t[e].parentElement.removeChild(t[e])},O.on=function(){var t=[].slice.call(arguments),e=t.shift();if(e){x.has(e)||x.set(e,new y(e));var n=x.get(e);y.prototype.on.apply(n,t)}},O.off=function(){var t=[].slice.call(arguments),e=t.shift();if(e&&x.has(e)){var n=x.get(e);y.prototype.off.apply(n,t)}},b.El=O,function(a){var l=!1,c=[];a.DomEvents.document.on("ready",function(){for(var t=0;t<c.length;t++)c[t]();c=[],l=!0});var d=function(t,e){if(a.DT.isFunction(t))l?t():c.push(t);else{if(!e)return new d(t,!0);a.DT.isArray(t)||a.DT.isString(t)||(t=[t]);for(var n=a.El.elements(t),i=0;i<n.length;i++)this[i]=n[i];this.length=n.length;for(i=0;i<this.length;i++)if(3!=this[i].nodeType){var o=a.El.getAttributes(this[i]);for(var r in o)if(o.hasOwnProperty(r)&&r.match(/^data-/)){var s=r.replace(/^data-/,"");s=a.fn.toCamelCase(s),a.El.data.set(this[i],s,o[r])}}}};d.prototype.each=function(t){for(var e=0;e<this.length;e++){t.bind(this[e])(e,this[e])}return this},d.prototype.toArray=function(){for(var t=[],e=0;e<this.length;e++)t.push(this[e]);return t},d.prototype.addClass=function(t){for(var e=0;e<this.length;e++)a.El.addClass(this[e],t);return this},d.prototype.removeClass=function(t){for(var e=0;e<this.length;e++)a.El.removeClass(this[e],t);return this},d.prototype.toggleClass=function(t){for(var e=0;e<this.length;e++)a.El.toggleClass(this[e],t);return this},d.prototype.hasClass=function(t){for(var e=!0,n=0;n<this.length;n++)a.El.hasClass(this[n],t)||(e=!1,n=this.length);return e},d.prototype.find=function(t){var e=[];return this.each(function(){e=e.concatUnique(Array.prototype.slice.call(this.querySelectorAll(t)))}),d(e)},d.prototype.parent=function(){var t=[];return this.each(function(){t=t.concatUnique([this.parentElement])}),d(t)},d.prototype.children=function(){var t=[];return this.each(function(){t=t.concatUnique(this.childNodes)}),d(t)},d.prototype.attr=function(t,e){return 1<arguments.length?(this.each(function(){this.setAttribute(t,e)}),this):(this.length&&(n=this[0].getAttribute(t)),n);var n},d.prototype.removeAttr=function(t){return this.each(function(){this.removeAttribute(t)}),this},d.prototype.data=function(t,e){return 1<arguments.length?(this.each(function(){a.El.data.set(this,t,e)}),this):(this.length&&(n=a.El.data.get(this[0],t)),n);var n},d.prototype.removeData=function(t){return this.each(function(){a.El.data.remove(this,key)}),this},d.prototype.closest=function(e){var n=[];return this.each(function(){var t=this.closest(e);t&&-1===n.indexOf(t)&&n.pushUnique(t)}),d(n)},d.prototype.remove=function(){return this.each(function(){a.El.data.remove(this),a.El.remove(this)}),this.length=0,this},d.prototype.css=function(t,e){if(1<arguments.length)return this.each(function(){a.El.css(this,t,e)}),this;if(a.DT.isObject(t)){for(var n in t)t.hasOwnProperty(n)&&this.css(n,t[n]);return this}var i=void 0;return this.length&&(i=a.El.css(this[0],t)),i},d.prototype.on=function(){var t=[].slice.call(arguments);t.unshift(null),this.each(function(){t[0]=this,a.El.on.apply(null,t)})},d.prototype.off=function(){var t=[].slice.call(arguments);t.unshift(null),this.each(function(){t[0]=this,a.El.off.apply(null,t)})},d.prototype.val=function(t){return void 0!==t?(this.each(function(){this.value=t}),this):(this.length&&(e=this[0].value),e);var e},d.prototype.append=function(){for(var t=0;t<arguments.length;t++){var i=arguments[t];this.each(function(){a.DT.isArray(i)||i instanceof NodeList||(i=i instanceof d?i.toArray():[i]);for(var t=0;t<i.length;t++)for(var e=a.El.elements(i[t]),n=0;n<e.length;n++)this!=e[n]&&this.appendChild(e[n])})}},d.prototype.prepend=function(){for(var t=[].slice.call(arguments).reverse(),e=0;e<t.length;e++){var i=t[e];a.DT.isArray(i)||i instanceof NodeList||(i=i instanceof d?i.toArray():[i]),i=i.reverse(),this.each(function(){for(var t=0;t<i.length;t++)for(var e=a.El.elements(i[t]),n=e.length-1;0<=n;n--)this.prepend(e[n])})}},d.prototype.appendTo=function(t){t=a.El.elements(t);for(var e=0;e<t.length;e++)this.each(function(){t[e].appendChild(this)})},d.prototype.prependTo=function(t){t=a.El.elements(t);for(var e=0;e<t.length;e++)this.each(function(){t[e].prepend(this)})},d.prototype.insertBefore=function(t){t=a.El.elements(t);for(var e=0;e<t.length;e++)this.each(function(){t[e].parentElement.insertBefore(this,t[e])})},d.prototype.insertAfter=function(e){e=a.El.elements(e);for(var n=0;n<e.length;n++)this.each(function(){var t=e[n].nextSibling;t?e[n].parentElement.insertBefore(this,t):e[n].parentElement.appendChild(this)})},d.prototype.html=function(n){return void 0!==n?(this.each(function(){if(a.DT.isObject(n)){this.innerHTML="";for(var t=a.El.elements(n),e=0;e<t.length;e++)this.appendChild(t[e])}else this.innerHTML=n}),this):(this.length&&(t=this[0].innerHTML),t);var t},d.prototype.outerHtml=function(){var t;return this.length&&(t=this[0].outerHtml),t},d.prototype.text=function(t){return void 0!==t?(this.each(function(){this.innerHTML=a.fn.htmlEntities(t)}),this):(this.length&&(e=(e=a.El.text(this[0])).replace(/\r\n|\n/g," ").replace(/ +(?= )/g,"")),e);var e},d.prototype.val=function(i){return void 0!==i?(i=a.DT.isArray(i)?i:[i],this.each(function(){var t=jLyte(this),e=this.tagName.toLowerCase();if("select"===e)i=this.multiple&&i.length?[i.pop()]:i,t.find("option").each(function(){this.selected="false",this.value&&-1!==i.indexOf(this.value)&&(this.selected="true")});else if("input"===e){var n=this.type;-1!==["checkbox","radio"].indexOf(n)?(this.checked=!1,this.value&&-1!==i.indexOf(this.value)&&(this.checked=!0)):this.value=i[0]}else this.value=i[0]}),this):(this.length&&(t=this[0].value),t);var t},d.each=function(t,n){if(t instanceof d)t.each(function(t,e){n(t,jLyte(e))});else if(a.DT.isObject(t)){var e=-1;for(var i in t)t.hasOwnProperty(i)&&(e++,n(i,t[i],e))}else for(var o=0;o<t.length;o++)n(o,t[o])},a.jLyte=d}(P),P.JSCookie=function(){function a(){for(var t=0,e={};t<arguments.length;t++){var n=arguments[t];for(var i in n)e[i]=n[i]}return e}function c(t){return t.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function t(l){function s(){}function n(t,e,n){if("undefined"!=typeof document){"number"==typeof(n=a({path:"/"},s.defaults,n)).expires&&(n.expires=new Date(1*new Date+864e5*n.expires)),n.expires=n.expires?n.expires.toUTCString():"";try{var i=JSON.stringify(e);/^[\{\[]/.test(i)&&(e=i)}catch(t){}e=l.write?l.write(e,t):encodeURIComponent(String(e)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var o="";for(var r in n)n[r]&&(o+="; "+r,!0!==n[r]&&(o+="="+n[r].split(";")[0]));return document.cookie=t+"="+e+o}}function e(t,e){if("undefined"!=typeof document){for(var n={},i=document.cookie?document.cookie.split("; "):[],o=0;o<i.length;o++){var r=i[o].split("="),s=r.slice(1).join("=");e||'"'!==s.charAt(0)||(s=s.slice(1,-1));try{var a=c(r[0]);if(s=(l.read||l)(s,a)||c(s),e)try{s=JSON.parse(s)}catch(t){}if(n[a]=s,t===a)break}catch(t){}}return t?n[t]:n}}return s.set=n,s.get=function(t){return e(t,!1)},s.getJSON=function(t){return e(t,!0)},s.remove=function(t,e){n(t,"",a(e,{expires:-1}))},s.defaults={},s.withConverter=t,s}(function(){})}(),P.TagLoader={getJson:function(t){return JSON.safeParse(this.getText(t))},setJson:function(t,e,n){this.setText(t,JSON.stringify(e),n)},getText:function(t){var e=null;return void 0!==S&&t instanceof S?e=t.text()||t.html():isObject(t)?e=t.innerHTML:null!==(t=document.getElementById(t.replace(/^#/,"")))&&(e=t.innerText),this.removeWrap(e)},setText:function(t,e,n){if(e=this.applyWrap(e),void 0!==S&&t instanceof S)t.html(e);else if(isObject(t))t.innerHTML=e;else{var i=t;if(null!==(t=document.getElementById(t.replace(/^#/,""))))t.innerHTML=e;else{var o=document.createElement("script");o.type="application/json",o.id=i.replace(/^#/,""),o.innerHTML=e,(n=n||document.body).appendChild(o)}}},applyWrap:function(t){return"\x3c!--"+t.trim()+"--\x3e"},removeWrap:function(t){return"string"==typeof t?t.trim().replace(/(\r\n|\n|\r)/gm," ").replace(/\t+/gm," ").replace(/^<\!\-\-(.+)\-\->$/,"$1"):null}},C=(E=P).TagLoader,E.Storage=function(){var t={},r=function(){return Math.floor((new Date).getTime()/1e3)},e=function(t){this.storage=t};e.prototype={supported:function(){return!!this.storage},set:function(t,e,n){this.supported()&&(e=JSON.stringify(e),this.storage.setItem(t,e),n&&this.storage.setItem(t+"_exp",r()+n))},get:function(t){return this.supported()?this.storage.getItem(t+"_exp")&&r()>=parseInt(this.storage.getItem(t+"_exp"))?(this.storage.getItem(t)&&this.storage.removeItem(t),this.storage.removeItem(t+"_exp"),null):JSON.parse(this.storage.getItem(t)):null},remove:function(t){this.supported()&&(this.storage.removeItem(t),this.storage.removeItem(t+"_exp"))},clear:function(){this.supported()&&this.storage.clear()},length:function(){if(this.supported()){var t=0;for(var e in localStorage)e.endsWith("_exp")||t++;return t}return 0},totalLength:function(){if(this.supported()){var t=0;for(var e in localStorage)t++;return t}return 0}};var n=function(){this.instanceClass=this.itemClass+"_"+E.fn.rand(),this.itemIndex={}};return n.prototype={itemClass:"appStorageItem",parent:void 0,supported:function(){return!(void 0===C||!C)},set:function(t,e,n){if(this.supported()){if(this.itemIndex[t]||(this.itemIndex[t]="#"+this.itemClass+"_"+E.fn.rand()),!this.parent){var i=document.createElement("div");i.id=this.instanceClass,i.style.display="none",this.parent=i,document.body.appendChild(i)}C.setJson(this.itemIndex[t],e,this.parent);var o=document.getElementById(this.itemIndex[t].replace(/^#/,""));E.El.addClass(o,this.itemClass),E.El.addClass(o,this.instanceClass),n&&o.setAttribute("data-exp",r()+n)}},get:function(t){if(this.supported()&&this.itemIndex[t]){var e=document.getElementById(this.itemIndex[t].replace(/^#/,""));return e?e.getAttribute("data-exp")&&r()>=parseInt(e.getAttribute("data-exp"))?(E.El.remove(e),delete this.itemIndex[t],null):C.getJson(e):null}},remove:function(t){if(this.supported()&&this.itemIndex[t]){var e=document.getElementById(this.itemIndex[t].replace(/^#/,""));e&&(E.El.remove(e),delete this.itemIndex[t])}},clear:function(){if(this.supported()){var t=document.getElementsByClassName(this.instanceClass);0<t.length&&(E.El.remove(t),this.itemIndex={})}},length:function(){return this.supported()?document.getElementsByClassName(this.instanceClass).length:0},totalLength:function(){return this.supported()?document.getElementsByClassName(this.itemClass).length:0}},t.local=new e(window.localStorage),t.session=new e(window.sessionStorage),t.page=new n,t},P.Timeout=function(t){void 0===t&&(t={});var e=t.time||1800,n=t.callback||function(){alert("Session Expired"),location.reload()},i=0,o=t.autostart||!0,r=function(){i=0},s=function(){o&&e<=++i&&(o=!1,n())};return void 0!==t.manualHandlers&&t.manualHandlers||(document.onclick=r,document.onmousemove=r,document.onkeypress=r),window.setInterval(s,1e3),{expTime:e,isRunning:function(){return o},restart:function(){o=!(i=0)},stop:function(){i=0,o=!1},counter:{get:function(){return i},reset:r},check:s,triggerCallback:function(){n()}}},P.UrlParser={regexes:{scheme:/^([a-zA-Z0-9]+):\/\/|^\/\//,username_password:/^([a-zA-Z0-9_-]+)?:([a-zA-Z0-9_-]+)?@/,host:/^((?:(?:[a-zA-Z0-9_-]+)\.)+(?:[a-zA-Z0-9_-]+){1})/,port:/^(?::([0-9]+))/,path:/^((?!\/\/)(?:\/|\.\/|\.\.\/)(?:[^?#]+)?)/,query:/^(?:\?([^#]+)*)/,fragment:/^(?:#(.+)*)/},parse:function(t,e){e=void 0!==e?e:"";var n=t,i=this.urlParts(),o={};for(var r in i.url=t,this.regexes)if(this.regexes.hasOwnProperty(r)){var s=n.match(this.regexes[r]);if(o[r]=!1,s){o[r]=!0;var a=r.split("_");n=n.substring(s[0].length,n.length);for(var l=0;l<a.length;l++)void 0!==s[l+1]&&(i[a[l]]=s[l+1])}}var c=!1;for(var r in i)i.hasOwnProperty(r)&&""!=i[r]&&(c=!0);if(""==i.host&&o.scheme?c=!1:""==i.host?""==i.path?c=!1:(""!=i.scheme||""!=i.username||""!=i.password||i.host||i.port)&&(c=!1):""==i.path&&(i.path=e),c){if(""!=i.host){var d=i.host.split(".");2<d.length?(i.domain=d[d.length-2]+"."+d[d.length-1],d.pop(),d.pop(),i.subdomain=d.join(".")):i.domain=i.host}var h=i.path.replace(/^\/+|\/+$/g,"");if(""!=h?i.pathParts=h.split("/"):""!=i.path&&(i.pathParts=["/"]),i.queryString=i.path+(""!=i.query?"?"+i.query:""),""!=i.query){var u=i.query.split("&");for(l=0;l<u.length;l++){var p=u[l].split("=");p.length<2&&p.push(""),i.queryVariables[p[0]]=decodeURIComponent(p[1])}}return i}return null},build:function(t){var e=this.cloneObject(t);return void 0===e.scheme&&(e.scheme=""),void 0===e.username&&(e.username=""),void 0===e.password&&(e.password=""),void 0===e.subdomain&&(e.subdomain=""),void 0===e.domain&&(e.domain=""),void 0===e.host&&(e.host=""),void 0===e.port&&(e.port=""),void 0===e.path&&(e.path=""),void 0===e.query&&(e.query=""),void 0===e.fragment&&(e.fragment=""),""!=e.scheme&&(e.scheme=e.scheme+"://"),""==e.host&&(""!=e.subdomain&&""!=e.domain?e.host=e.subdomain+"."+e.domain:""!=e.domain&&(e.host=e.domain)),(e.auth="")==e.username&&""==e.password||(e.auth=e.username+":"+e.password+"@"),""!=e.port&&(e.port=":"+e.pprt),""!=e.query&&(e.query="?"+e.query),""!=e.fragment&&(e.fragment="#"+e.fragment),e.path.match(/^\./)&&""!=e.host&&(e.path="/"+e.path),e.host?e.scheme+e.auth+e.host+e.port+e.path+e.query+e.fragment:(""==e.path&&(e.path="/"),e.path+e.query+e.fragment)},urlParts:function(){return{url:"",scheme:"",username:"",password:"",subdomain:"",domain:"",host:"",port:"",path:"",query:"",fragment:"",queryString:"",pathParts:[],queryVariables:{}}},cloneObject:function(t){if(null==t||"object"!=typeof t)return t;var e=t.constructor();for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}},P.UserAutoExpire=P.create({el:void 0,modelId:void 0,modelTimer:void 0,keepAliveTimer:void 0,exp:void 0,warningDuration:void 0,warningTimeout:void 0,expireUrl:void 0,renewUrl:void 0,init:function(t){var e=this;t=t||{},t=Object.deepCopyMerge({exp:1800,warningDuration:60,expireUrl:"/logout",renewUrl:"/api/keep-session-alive"},t),e.exp=t.exp,e.warningDuration=t.warningDuration,e.expireUrl=t.expireUrl,e.renewUrl=t.renewUrl,e.el={model:void 0,timer:void 0},e.modelId="userAutoExpire"+P.fn.rand(),e.el.model=e.attachModel(e.modelId),e.el.timer=e.el.model.querySelector("#"+e.modelId+"_timer"),P.EventUtil.addHandler(e.el.model.querySelector(".userAutoExpire_End"),"click",function(){e.endSession()}),P.EventUtil.addHandler(e.el.model.querySelector(".userAutoExpire_Keep"),"click",function(){e.continueSession()}),e.warningTimeout=new P.Timeout({time:e.exp-e.warningDuration,callback:function(){e.promtUser()}}),e.keepAliveTimer=setInterval(function(){e.keepAliveHandler()},1e3*parseInt(e.exp/3))},promtUser:function(){var t=this;this.el.timer.innerHTML=this.warningDuration+"s",this.revealModel(),this.modelTimer=setInterval(function(){t.countdownTimer()},1e3)},countdownTimer:function(){var t=parseInt(this.el.timer.innerHTML.replace("s",""));0<t?this.el.timer.innerHTML=t-1+"s":this.endSession()},endSession:function(){this.hideModel(),clearInterval(this.modelTimer),window.location=this.expireUrl},continueSession:function(){this.hideModel(),this.el.timer.innerHTML="--",clearInterval(this.modelTimer),this.modelTimer=null,this.warningTimeout.restart()},keepAliveHandler:function(){P.fn.request(this.renewUrl)},hideModel:function(){P.El.removeClass(this.el.model,"opened"),P.El.addClass(this.el.model,"closed")},revealModel:function(){P.El.removeClass(this.el.model,"closed"),P.El.addClass(this.el.model,"opened")},attachModel:function(t){var e=document.createElement("style");e.type="text/css",e.innerHTML=".userAutoExpire_container {position: fixed;top: 0;left: 0;right: 0;bottom: 0;background-color: rgba(0, 0, 0, 0.20);z-index: 10000;}.userAutoExpire_container.closed {display: none;}.userAutoExpire_container p {margin: 0;margin-bottom: 2rem;}.userAutoExpire_container p:last-child {margin: 0;}.userAutoExpire_wrap {height: 100%;}.userAutoExpire {width: 300px;background: #e9e9e9;position: relative;top: 50%;transform: translateY(-50%);margin: 0 auto;padding: 1rem;box-shadow:0 4px 5px 0 rgba(0,0,0,0.14),0 1px 10px 0 rgba(0,0,0,0.12),0 2px 4px -1px rgba(0,0,0,0.3);}.userAutoExpire_button {-webkit-appearance: none;-moz-appearance: none;line-height: 1;display: inline-block;text-align: center;cursor: pointer;transition: background-color 0.25s ease-out, color 0.25s ease-out;vertical-align: middle;border: 1px solid #222;border-radius: 0;padding: 0.8em 1em 0.7695em 1em;margin: 0;font-size: 0.9rem;background-color: #e9e9e9;color: #222;}.userAutoExpire_End {border-color: transparent;}.userAutoExpire_button:hover, .userAutoExpire_button:focus {text-decoration: underline;}.userAutoExpire_Keep:hover, .userAutoExpire_Keep:focus {color: #e9e9e9;background-color: #222;text-decoration: none;}.userAutoExpire_links {text-align: right;}",document.querySelector("head").appendChild(e);var n=document.querySelector("body"),i=P.El.element('<div id="'+t+'_container" class="userAutoExpire_container closed" style="">\t<div id="'+t+'_wrap" class="userAutoExpire_wrap">\t\t<div id="'+t+'" class="userAutoExpire">\t\t\t<div id="'+t+'_content" class="userAutoExpire_content">\t\t\t\t<p class="userAutoExpire_message">Session will expire in:&nbsp;<span id="'+t+'_timer" class="userAutoExpire_timer">--</span></p>\t\t\t\t<p class="userAutoExpire_links"><button class="userAutoExpire_button userAutoExpire_End">End Now</button>&nbsp;&nbsp;<button class="userAutoExpire_button userAutoExpire_Keep">Keep Alive</button></p>\t\t\t</div>\t\t</div>\t</div></div>');return n.appendChild(i),i}}),$=P,A={hasAsked:void 0,hasGranted:void 0,hasDenied:void 0},(T={supported:function(){return"Notification"in window},hasAsked:function(){return A.hasAsked},hasGranted:function(){return A.hasGranted},hasDenied:function(){return A.hasDenied},notify:function(n,i){var o=(i=i||{}).autoClose||!1,r=i.autoCloseTime||5e3;if(delete i.autoClose,delete i.autoCloseTime,A.hasGranted){var t=new Notification(n,i);o&&setTimeout(t.close.bind(t),r)}else A.hasAsked||T.request(function(t){if(t){var e=new Notification(n,i);o&&setTimeout(e.close.bind(e),r)}})},request:function(e){e=e||function(){},Notification.requestPermission(function(t){A.hasAsked=!0,"granted"==t?(A.hasGranted=!0,e(!0)):(A.hasDenied=!0,e(!1))})}}).supported()&&(A.hasGranted="granted"===Notification.permission,A.hasDenied="denied"===Notification.permission,A.hasAsked="denied"!==Notification.permission&&"granted"!==Notification.permission),$.Webify=T,P}),"undefined"==typeof bglib&&(bglib=t);var i={name:"Cornerstone UI",version:"1.0",__onLoadHandlers:[],__hasLoaded:!1},o=function(){};o.getName=function(){return _this.name},o.getVersion=function(){return _this.version},o.setInstance=function(t,e,n){bglib.El.data(t,"CS_"+e,n)},o.getInstance=function(t,e){return bglib.El.data(t,"CS_"+e)},o.init=function(){var t=document.querySelector("html");for(var e in bglib.El.removeClass(t,"cs-nojs"),bglib.El.addClass(t,"cs-js"),o.autoload)o.autoload.hasOwnProperty(e)&&o.autoload[e]();i.__hasLoaded=!0;for(var n=0;n<i.__onLoadHandlers.length;n++)i.__onLoadHandlers[n]();console.log("Cornerstone:inited")},o.onLoad=function(t){i.__hasLoaded||bglib.DT.isFunction(t)&&i.__onLoadHandlers.push(t)},o.fn={},(o.autoload={}).factory=function(a,l,c,d){return d=d||[],function(){for(var t=document.querySelectorAll(l),e=0;e<t.length;e++){var n=t[e].getAttribute(c);n=n&&""!=n.trim()?JSON.safeParse(n.trim()):{};for(var i=0;i<d.length;i++){var o=d[i],r=bglib.fn.toCamelCase(o),s=t[e].getAttribute("data-"+o);t[e].removeAttribute("data-"+o),void 0!==s&&(a.handleDataAttr?(s=a.handleDataAttr(o,s,n),bglib.DT.isObject(s)?n=Object.deepMerge(n,s):s&&(n[r]=s)):s&&(n[r]=s))}new a(t[e],n)}}},bglib.fn.documentReady(function(){o.init()});var n=bglib.EventModule,r=n.extend({Name:void 0,instanceId:void 0,$el:void 0,dataValue:void 0,defaultOptions:void 0,options:void 0,constructor:function(t,e){t&&(this.$el=bglib.jLyte(t),t=this.$el[0]),this.defaultOptions={},this.options=e||{},bglib.DT.isObject(e)||(this.options={}),this.instanceId=bglib.fn.rand(),t&&(o.setInstance(t,this.Name,this),this.$el.attr("data-cs-instance",this.Name),this.dataValue=this.$el.attr("data-"+this.Name.lowercaseFirst()),this.$el.removeAttr("data-"+this.Name.lowercaseFirst())),n.apply(this,arguments)},getOption:function(t){return this.options.hasOwnProperty(t)?this.options[t]:this.defaultOptions.hasOwnProperty(t)?this.defaultOptions[t]:null},setOption:function(t,e){this.options[t]=e}});o.BaseComponent=r;var e=n.extend({Name:void 0,instanceId:void 0,defaultOptions:void 0,options:void 0,constructor:function(t){this.defaultOptions={},this.options=t||{},bglib.DT.isObject(t)||(this.options={}),this.instanceId=bglib.fn.rand(),n.apply(this,arguments)},getOption:function(t){return this.options.hasOwnProperty(t)?this.options[t]:this.defaultOptions.hasOwnProperty(t)?this.defaultOptions[t]:null},setOption:function(t,e){this.options[t]=e}});o.JsComponent=e;var s,a,l,c,d,h,u,p,f,g,m,v,b,y,w,x,O,E,C,$,A,T,S,j,P,k,_,D,I,M,L,N,H,B=n.extend({Name:void 0,defaultOptions:void 0,options:void 0,constructor:function(t,e){this.defaultOptions={},this.options=e||{},bglib.DT.isObject(e)||(this.options={}),n.apply(this,arguments)},getOption:function(t){return this.options.hasOwnProperty(t)?this.options[t]:this.defaultOptions.hasOwnProperty(t)?this.defaultOptions[t]:null},setOption:function(t,e){this.options[t]=e}});return o.BaseModule=B,s=o,a=bglib.DomEvents,l=bglib.jLyte,c=s.BaseModule.extend({Name:"Accordion",breakpoints:void 0,breakpointsPx:void 0,current:void 0,$html:void 0,init:function(){var s=this;this.defaultOptions={breakpoints:[["sm","40em"],["md","64em"],["lg","90em"],["xlg","105em"]]},this.breakpoints=this.getOption("breakpoints"),this.breakpointsPx=[],a.document.on("ready",function(){var t=l('<div class="cornerstone-bp"></div>');t.css({position:"fixed",top:"-999px",left:"-999px",width:"0",height:"0"}),t.appendTo("body");var e=t.css("content"),n=e?e.match(/sm:(\w+);md:(\w+);lg:(\w+);xlg:(\w+)/):null;t.remove(),n&&(s.breakpoints=[["sm",n[1]],["md",n[2]],["lg",n[3]],["xlg",n[4]]]);for(var i=0;i<s.breakpoints.length;i++){var o=s.breakpoints[i][0],r=s.breakpoints[i][1];r.match(/\d+px/)?s.breakpointsPx.push([o,parseInt(r,10)]):s.breakpointsPx.push([o,parseInt(bglib.fn.toPx(r),10)])}s.$html=l("html"),s.current=s.determineBreakPoint(),s.$html.addClass("cs-bp-"+s.current),s.trigger("load",{caller:s,current:s.current})}),bglib.EventUtil.addHandler(window,"resize",function(t){var e=s.determineBreakPoint();e!=s.current&&(void 0===s.current&&(s.current=e),s.handleBreakpointChange(e),s.current=e)}),this.on("change",function(t){t.old&&(s.$html.removeClass("cs-bp-"+t.old),s.$html.addClass("cs-bp-"+t.current))})},handleBreakpointChange:function(t){this.trigger("change",{caller:this,old:this.current,current:t})},getBreakPoint:function(t){var e;return!t&&this.current||(e=this.determineBreakPoint(),this.current!==e&&(void 0===_self.current&&(this.current=bp),this.handleBreakpointChange(e),this.current=e)),this.current},determineBreakPoint:function(){for(var t=window.innerWidth,e=null,n=0;n<this.breakpointsPx.length;n++){var i=this.breakpointsPx[n][0];this.breakpointsPx[n][1]<=t&&(e=i)}return e||(e="tn"),e}},{}),s.BreakPoint=new c,d=o,h=bglib.jLyte,u=d.BaseComponent.extend({Name:"Accordion",init:function(){var n=this;this.defaultOptions={childSelector:".accordion-item",multipleOpen:!1,allClosed:!0},this.$el.addClass("cs-accordion-"+this.instanceId);var t=this.getChildren();return t.each(function(){var t=h(this),e=t.find(".content-wrap");e.length||((e=h('<div class="content-wrap"></div>')).append(t.find(".accordion-content").children()),t.find(".accordion-content").append(e))}),t.each(function(){var t=h(this);n.setHeight(t),t.hasClass("pre-opened")&&(t.removeClass("pre-opened"),n.openItem(t))}),this.$el.on("click",".accordion-item .accordion-title",function(t){var e=h(this);e.hasClass("accordion-item")||(e=e.closest(".accordion-item")),n.toggleItem(e),t.preventDefault()}),bglib.DomEvents.window.on("resize",function(){n.getChildren().each(function(){var t=h(this);t.hasClass("opened-item")&&n.setHeight(t)})}),this},getChildren:function(t){return this.$el.find(this.getOption("childSelector"))},closeAll:function(e){var n=this;!e||e instanceof h||(e=h(e)),this.getChildren().each(function(){var t=h(this);this!=e[0]&&t.hasClass("opened-item")&&n.closeItem(t)})},setHeight:function(t){var e=t.find(".accordion-content");e.css("height",e.find(".content-wrap").css("height"))},toggleItem:function(e){if(e instanceof h||(e=h(e)),e.hasClass("opened-item"))if(this.getOption("allClosed"))this.closeItem(e);else{var n=!1;this.getChildren().each(function(){var t=h(this);!n&&this!=e[0]&&t.hasClass("opened-item")&&(n=!0)}),n&&this.closeItem(e)}else this.getOption("multipleOpen")||this.closeAll(e),this.openItem(e)},openItem:function(t){t instanceof h||(t=h(t)),this.trigger("beforeOpen",{item:t})||(this.setHeight(t),t.addClass("opened-item"),this.trigger("opened",{item:t}))},closeItem:function(t){t instanceof h||(t=h(t)),this.trigger("beforeClose",{item:t})||(t.removeClass("opened-item"),this.trigger("closed",{item:t}))}},{}),d.Accordion=u,d.autoload.Accordion=d.autoload.factory(u,"[data-accordion]","data-accordion"),p=o,(f=bglib.jLyte)(function(){f("body").on("click",".cs-close",function(i){var t=f(this),e=t.attr("data-close-target")||null;(e=e?f(e):t.closest("[data-cs-instance]")).each(function(){var t=f(this),e=t.attr("data-cs-instance"),n=null;e&&""!=e.trim()&&(n=p.getInstance(t[0],e))&&n.handleCloseAction&&(n.handleCloseAction(),i.preventDefault())})})}),g=o,m=bglib.jLyte,v=g.BaseComponent.extend({Name:"Modal",scrollPreventor:void 0,pageOffset:void 0,init:function(){var t,e=this;this.scrollPreventor=function(t){e.isParentBody&&global.scrollTo(e.pageOffset.x,e.pageOffset.y),t.preventDefault(),t.stopPropagation()},this.defaultOptions={parent:"window"},this.$el.addClass("cs-modal-"+this.instanceId);var n=!1;"window"==this.getOption("parent")?(t=m(document.querySelector("body")),n=!0):t=m(this.getOption("parent")),this.id=this.$el.attr("id")?this.$el.attr("id")+"-wrap":"cs-modal-wrap-"+bglib.fn.rand();var i=m('<div class="cs-modal-wrap"></div>');i.attr("id",this.id),i.appendTo(t),i.append(this.$el),i.attr("data-parent",n?"window":"element"),i.attr("data-state","closed"),this.$el.find(".modal-header").length||this.$el.prepend('<div class="modal-header"></div>'),this.$el.find(".modal-content").length||m('<div class="modal-content"></div>').insertAfter(this.$el.find(".modal-header")),this.$el.find(".modal-footer").length||m('<div class="modal-footer"></div>').insertAfter(this.$el.find(".modal-content")),this.$wrap=i;var o=this.$el.hasClass("modal-fixed-header"),r=this.$el.hasClass("modal-fixed-footer"),s=this.$el.hasClass("modal-fill");if(o&&r){this.$wrap.addClass("modal-fixed-header"),this.$wrap.addClass("modal-fixed-footer");var a=m('<div class="modal-fixed-wrap"></div>'),l=this.$el.find(".modal-content");l.length?a.insertBefore(l):a.prependTo(l),a.append(this.$el.find(".modal-content"))}else if(o){this.$wrap.addClass("modal-fixed-header"),(a=m('<div class="modal-fixed-wrap"></div>')).appendTo(this.$el),a.append(this.$el.find(".modal-content")),a.append(this.$el.find(".modal-footer"))}else if(r){this.$wrap.addClass("modal-fixed-footer"),(a=m('<div class="modal-fixed-wrap"></div>')).prependTo(this.$el),a.append(this.$el.find(".modal-header")),a.append(this.$el.find(".modal-content"))}return s&&this.$wrap.addClass("modal-fill"),this.$el.attr("tabindex","0"),bglib.DomEvents.window.on("keyup",function(t){"Escape"==t.originalEvent.key&&e.isOpen()&&e.isFocused()&&e.close()}),i.on("click",function(t){m(t.originalEvent.target).hasClass("cs-modal-wrap")&&e.isOpen()&&e.close()}),this.isParentBody=n,this},isFocused:function(){var t=document.activeElement;if(t){var e=m(t);if(e.hasClass(".cs-modal"))return!0;var n=e.closest(".cs-modal");if(n.length&&this.$el[0]===n[0])return!0}return!1},isOpen:function(){return"opened"==this.$wrap.attr("data-state")},open:function(){this.trigger("beforeOpen",{model:this.$el})||(this.$wrap.attr("data-state","opened"),this.$el[0].focus(),this.isParentBody&&(this.pageOffset={x:global.pageXOffset,y:global.pageYOffset},bglib.EventUtil.addHandler(window,"scroll",this.scrollPreventor),m(document.querySelector("body")).addClass("cs-modal-open")),this.trigger("opened",{model:this.$el}))},close:function(){this.trigger("beforeClose",{model:this.$el})||(this.$wrap.attr("data-state","closed"),this.isParentBody&&(bglib.EventUtil.removeHandler(window,"scroll",this.scrollPreventor),m(document.querySelector("body")).removeClass("cs-modal-open")),this.trigger("closed",{model:this.$el}))},getHeader:function(){return this.$el.find(".modal-header")[0]},setHeader:function(t){t=t||"",this.$el.find(".modal-header").html(t)},getContent:function(){return this.$el.find(".modal-content")[0]},setContent:function(t){t=t||"",this.$el.find(".modal-content").html(t)},getFooter:function(){return this.$el.find(".modal-footer")[0]},setFooter:function(t){t=t||"",this.$el.find(".modal-footer").html(t)},getScrollObject:function(){return this.$el.find(".modal-fixed-wrap").length?this.$el.find(".modal-fixed-wrap")[0]:this.$wrap[0]},scrollToTop:function(){this.getScrollObject().scrollTop=0},scrollToBottom:function(){var t=this.getScrollObject();t.scrollTop=t.scrollHeight},scrollTo:function(t){var e=this.getScrollObject();(t=t?parseInt(t,10):0)<0?t=0:t>e.scrollHeight&&(t=e.scrollHeight),e.scrollTop=t},handleCloseAction:function(){this.isOpen()&&this.close()}},{}),g.Modal=v,g.autoload.Modal=g.autoload.factory(v,"[data-modal]","data-modal"),m(function(){m("button[data-modal-target]").each(function(){var n=m(this);n.on("click",function(){var t=m(n.attr("data-modal-target"));if(t.length){var e=g.getInstance(t[0],"Modal");e&&e.open()}})})}),b=o,y=bglib.jLyte,w=bglib.DomEvents,x=b.BaseComponent.extend({Name:"Dropdown",$action:void 0,$content:void 0,init:function(){var o=this;this.$el.addClass("cs-dropdown-"+this.instanceId),this.defaultOptions={action:"click",anchor:"bottom-left"},this.$action=this.$el.find(".dropdown-action"),this.$content=this.$el.find(".dropdown-content");var t=this.$action.css("margin-bottom");return this.$action.css("margin-bottom",0),this.$el.attr("data-anchor")?this.setOption("anchor",this.$el.attr("data-anchor")):this.$el.attr("data-anchor",this.getOption("anchor")),t&&this.$el.css("margin-bottom",t),"hover"==this.getOption("action")||this.$el.hasClass("dropdown-hover")?(this.$action.on("mouseover",function(t){o.isOpen()||o.open()}),this.$el.on("mouseleave",bglib.fn.debounce(function(t){o.isOpen()&&o.close()},10))):(this.$action.on("click",function(t){o.isOpen()?o.close():o.open()}),w.window.on("click",function(t){var e=y(t.originalEvent.target),n=(t.originalEvent.target,!1),i="cs-dropdown-"+o.instanceId;e.hasClass(i)||(n=0==e.closest("."+i).length),o.isOpen()&&n&&o.close()})),bglib.DomEvents.window.on("resize",bglib.fn.debounce(function(){o.isOpen()&&o.updateHeight()},50)),this.$el.attr("data-state","closed"),this},isOpen:function(){return"opened"==this.$el.attr("data-state")},open:function(){this.determinePosition();this.trigger("beforeOpen",{dropdown:this.$el})||(this.updateHeight(),this.$el.attr("data-state","opened"),this.trigger("opened",{dropdown:this.$el}))},close:function(){this.trigger("beforeClose",{dropdown:this.$el})||(this.$el.attr("data-state","closed"),this.trigger("close",{dropdown:this.$el}))},updateHeight:function(){this.$content.css("height",this.$content.find(".dropdown-content-wrap").css("height"))},determinePosition:function(){this.getOption("anchor"),this.$el[0].getBoundingClientRect()},handleCloseAction:function(){this.isOpen()&&this.close()}},{}),b.Dropdown=x,b.autoload.Dropdown=b.autoload.factory(x,"[data-dropdown]","data-dropdown"),O=o,E=bglib.jLyte,C=bglib.DomEvents,$=O.BaseComponent.extend({Name:"PriorityPlus",dropdown:void 0,init:function(){var t=this;this.defaultOptions={action:"click",anchor:"bottom-left"},this.$el.addClass("cs-priority-plus-"+this.instanceId);var e=E('\t\t\t\t<li class="item overflow-toggle-item cs-dropdown">\t\t\t\t\t<button class="cs-button dropdown-action button-primary"><svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="512px" height="512px" viewBox="0 0 512 512" enable-background="new 0 0 512 512" xml:space="preserve"><g id="Icon_7_"><g><path d="M416,277.333H277.333V416h-42.666V277.333H96v-42.666h138.667V96h42.666v138.667H416V277.333z"/></g></g></svg></button>\t\t\t\t\t<div class="dropdown-content"><ul class="dropdown-content-wrap"></ul></div>\t\t\t\t</li>\t\t\t');return e.appendTo(this.$el.find(".priority-plus-items")),this.dropdown=new O.Dropdown(e[0],{anchor:"bottom-right"}),t.handleResize(),C.window.on("resize",bglib.fn.debounce(function(){t.handleResize()},1)),this},handleResize:function(){this.resetItems();for(var t=this.$el.find(".priority-plus-items")[0].getBoundingClientRect(),e=this.dropdown.$el[0].getBoundingClientRect(),n=t.width-e.width,i=this.getItems(),o=!1,r=0;r<i.length;r++){var s=E(i[r]),a=s[0].getBoundingClientRect();(n<a.x-t.x+a.width||o)&&(this.dropdown.$el.find(".dropdown-content-wrap").append(s),o||(o=!0))}this.toggleAction(),this.trigger("reflow",{priorityPlus:this.$el,items:this.getItems(),overflow:this.dropdown.$el.find(".dropdown-content-wrap > .item")})},toggleAction:function(){this.dropdown.$el.find(".dropdown-content-wrap").find(".item").length?this.dropdown.$el.css("visibility","visible"):this.dropdown.$el.css("visibility","hidden")},resetItems:function(){var t=this.$el.find(".priority-plus-items");this.dropdown.$el.find(".dropdown-content-wrap").find(".item").each(function(){t.append(this)}),this.dropdown.$el.css("visibility","hidden"),this.trigger("reset",{priorityPlus:this.$el,items:this.getItems()})},getItems:function(){return this.$el.find(".priority-plus-items > .item:not(.overflow-toggle-item)")}},{}),O.PriorityPlus=$,O.autoload.PriorityPlus=O.autoload.factory($,"[data-priority-plus]","data-priority-plus"),A=o,T=bglib.jLyte,S=A.BaseComponent.extend({Name:"Pagination",$ellipsis:void 0,$gotoTextbox:void 0,initEllipsis:function(t){t.hasClass("ellipsis")||t.addClass("ellipsis"),T('<div class="ellipsis-input" data-showing="false"><input class="cs-input" type="text"></div>').appendTo(t)},init:function(){var i=this;this.defaultOptions={startPad:2,endPad:2,delta:2,currentPage:1,maxPages:1,ellipsisTop:!1},this.$el.addClass("cs-pagination-"+this.instanceId),this.$ellipsis=this.$el.find("li.ellipsis:not(.no-popup)"),this.$ellipsis.each(function(){i.initEllipsis(T(this))}),this.$el.on("click","li.ellipsis:not(.no-popup)",function(t){var e=T(this),n=T(t.originalEvent.target);n.hasClass("ellipsis-input")||(n=n.closest(".ellipsis-input")),n.length||i.toggleEllipsisTextbox(e.find(".ellipsis-input"))}),bglib.DomEvents.window.on("click",function(t){if(i.isEllipsisTextboxShowing()){var n=T(t.originalEvent.target);n.hasClass("ellipsis")||(n=n.closest(".ellipsis")),i.$ellipsis.each(function(){var t=T(this),e=t.find(".ellipsis-input");"true"==e.attr("data-showing")&&(!n.length||n.length&&n[0]!=t[0])&&i.hideEllipsisTextbox(e)})}}),this.$el.on("keydown",".ellipsis-input input",function(t){_this=this,13==t.originalEvent.keyCode&&""!=_this.value.trim()&&i.trigger("jumpTo",{target:_this,caller:i,page:_this.value})}),this.$el.on("click","li > a",function(t){var e=T(this).closest("li");e.hasClass("disabled")||e.hasClass("current")||e.hasClass("ellipsis")||i.trigger("itemClick",{target:this,caller:i,originalEvent:t.originalEvent})&&t.preventDefault()}),this.on("renderItem",function(t){i.renderItem(t)}),window["m"+this.instanceId]=this},render:function(t,e){t=(e=e||this.getOption("maxPages"))<(t=t<0?0:t)?e:t,this.setOption("maxPages",e),this.setOption("currentPage",t);var n=this.getPagination(t,e,this.getOption("delta"),this.getOption("startPad"),this.getOption("endPad"));n.unshift("prev"),n.push("next");this.$el.find("li:not(.cs-template)").remove(),console.log(n);for(var i=0;i<n.length;i++){var o=T("<li></li>");if("..."==n[i])this.initEllipsis(o);else{var r="page",s=!1;"prev"==n[i]?(r=n[i],s=t<2):"next"==n[i]&&(r=n[i],s=t==e),r="prev"==n[i]?"prev":r,r="next"==n[i]?"next":r,this.trigger("renderItem",{caller:this,el:o[0],current:t,item:{value:n[i],type:r,disabled:s,current:t==n[i]}})}this.$el.append(o)}},renderItem:function(t){var e=t.item,n="";"page"==e.type?n=e.disabled?'<span data-page="{{page}}">{{page}}</span>':'<a href="?page={{page}}">{{page}}</a>':"prev"==t.type?n=e.disabled?'<span data-page="previous">Previous</span>':'<a href="?page='+(t.current-1)+'">Previous</a>':"next"==t.type&&(n=e.disabled?'<span data-page="next">Next</span>':'<a href="?page='+(t.current+1)+'">Next</a>'),t.el.innerHTML=n,e.disabled&&bglib.El.addClass(t.el,"disabled")},isEllipsisTextboxShowing:function(){var t=!1;return this.$ellipsis.each(function(){"true"==T(this).find(".ellipsis-input").attr("data-showing")&&(t=!0)}),t},toggleEllipsisTextbox:function(t){"true"==t.attr("data-showing")?this.hideEllipsisTextbox(t):this.showEllipsisTextbox(t)},showEllipsisTextbox:function(t){t.attr("data-showing","true"),t.find("input")[0].value="",t.find("input")[0].focus()},hideEllipsisTextbox:function(t){t.attr("data-showing","false")},getPagination:function(t,e,n,i,o){i=i||1,o=o||1;for(var r=t-(n=n||2),s=t+n+1,a=[],l=[],c=-1,d=1;d<=e;d++){(d<=i||e-(o-1)<=d||r<=d&&d<s)&&a.push(d)}for(d=0;d<a.length;d++)-1!=c&&(a[d]-c==2?l.push(d+1):a[d]-c!=1&&l.push("...")),l.push(a[d]),c=a[d];return l}},{handleDataAttr:function(t,e){switch(t){case"max-pages":case"current-page":e=parseInt(e,10)}return e}}),A.Pagination=S,A.autoload.Pagination=A.autoload.factory(S,"[data-pagination]","data-pagination",["max-pages","current-page","start-pad","end-pad","delta","ellipsis-top"]),j=o,P=bglib.jLyte,k=j.BaseComponent.extend({Name:"Tabs",init:function(){var e=this;this.defaultOptions={},this.$el.addClass("cs-tabs-"+this.instanceId),this.selector=".cs-tabs-"+this.instanceId+" > ul li a, .cs-tabs-"+this.instanceId+" > li a",P(document.querySelector("body")).on("click",this.selector,function(t){t.preventDefault(),e.openTab(P(this).closest("li")[0])});var o=this.$el.find("li.active"),r=this.$el.hasClass("vertical-tabs")?"inline-block":"block";return P(this.selector).each(function(t){var e=P(this),n=e.closest("li"),i=!o.length&&0==t;n[0]===o[0]||i?(P(e.attr("href")).css("display",r),n.addClass("active")):P(e.attr("href")).css("display","none")}),this},openTab:function(i){this.$el.find("li.active");var o=this.$el.hasClass("vertical-tabs")?"inline-block":"block";P(this.selector).each(function(t){var e=P(this),n=e.closest("li");n[0]!==i?(P(e.attr("href")).css("display","none"),n.removeClass("active")):(P(e.attr("href")).css("display",o),n.addClass("active"))})}},{}),j.Tabs=k,j.autoload.Tabs=j.autoload.factory(k,"[data-tabs]","data-tabs"),_=o,D=bglib.jLyte,I=_.JsComponent.extend({Name:"Toast",$container:void 0,init:function(){this.defaultOptions={html:"This is a toast.",displayLength:4e3,class:null,closeCallback:null,position:"right"},this.$el=D("<div></div>"),this.$el.addClass("cs-toast"),this.$el.addClass("cs-toast-"+this.instanceId),this.$el.append('<div class="cs-toast-content">'+this.getOption("html")+"</div>"),this.getOption("class")&&this.$el.addClass(this.getOption("class")),this.$container=D("body").find(".cs-toast-container"),this.$container.length||(this.$container=D('<div class="cs-toast-container"></div>'),D("body").append(this.$container)),this.$container.append(this.$el);var t=this;return setTimeout(function(){"undefined"!=typeof anime?(console.log("anime exists"),anime({targets:t.$el[0],duration:2e3,translateY:-50,opacity:0,update:function(){t.$el.addClass("removing"),t.$el.css("position","absolute")}}).finished.then(function(){t.$el.remove(),t.getOption("closeCallback")&&t.getOption("closeCallback")()})):(t.$el.remove(),t.getOption("closeCallback")&&t.getOption("closeCallback")())},this.getOption("displayLength")),this}},{}),_.Toast=I,M=o,L=bglib.jLyte,N=bglib.DomEvents,H=M.BaseComponent.extend({Name:"Tooltip",tooltip:void 0,$tooltip:void 0,init:function(){var e=this;return this.defaultOptions={html:null,position:"top"},this.dataValue?this.tooltip=this.dataValue:this.$el.attr("title")&&(this.tooltip=this.$el.attr("title"),this.$el.removeAttr("title")),this.tooltip&&(this.$el.on("mouseenter",function(){e.showTooltip()}),this.$el.on("mouseleave",function(){e.hideTooltip()})),N.window.on("resize",function(){if(e.$tooltip){var t=e.determinePosition();e.$tooltip.css(e.calculatePosition(t))}}),console.log("tooltip-item-position",this.$el[0].getBoundingClientRect()),this},calculatePosition:function(t,e){var n=this,i=n.$el[0].getBoundingClientRect(),o={left:i.x+"px",top:i.y+"px"};console.log(e);var r=function(){var t={};t.top=i.y-n.$tooltip[0].clientHeight+"px";var e=i.x;return n.$el.clientWidth<n.$tooltip[0].clientWidth?e-=(n.$tooltip[0].getBoundingClientRect().width-n.$el[0].getBoundingClientRect().width/2)/2:e+=(n.$el[0].clientWidth-n.$tooltip[0].clientWidth)/2,(e<0||e+n.$tooltip.clientWidth>window.innerWidth)&&(e=4),t.left=e+"px",t};switch(e){case"top":o=Object.assign(o,r());break;case"bottom":o=Object.assign(o,function(){var t={};t.top=i.y+n.$el[0].clientHeight+"px";var e=i.x;return n.$el.clientWidth<n.$tooltip[0].clientWidth?e-=(n.$tooltip[0].clientWidth-n.$el[0].clientWidth)/2:e+=(n.$el[0].clientWidth-n.$tooltip[0].clientWidth)/2,(e<0||e+n.$tooltip.clientWidth>window.innerWidth)&&(e=4),t.left=e+"px",t}());break;case"left":if((s=i.x-8)<150&&t[0].clientWidth>s)console.log(1),o=Object.assign(o,r());else t.css("max-width",s+"px"),a=n.$el.clientHeight<t[0].clientHeight?i.y-Math.ceil(t[0].clientHeight-n.$el[0].clientHeight)/2:i.y+Math.ceil(n.$el[0].clientHeight-t[0].clientHeight)/2,o.top=a+"px",o.left=i.x-4-t[0].clientWidth,o.left=o.left+"px";break;case"right":var s,a;if((s=window.innerWidth-i.x-this.$el[0].clientWidth-8)<150&&t[0].clientWidth>s)console.log(1),o=Object.assign(o,r());else console.log(2),t.css("max-width",s+"px"),a=n.$el.clientHeight<t[0].clientHeight?i.y-Math.ceil(t[0].clientHeight-n.$el[0].clientHeight)/2:i.y+Math.ceil(n.$el[0].clientHeight-t[0].clientHeight)/2,o.top=a+"px",o.left=i.x+this.$el[0].clientWidth+4,o.left=o.left+"px"}return o},showTooltip:function(){if(!this.$tooltip){this.$tooltip=L('<div class="cs-tooltip"></div>'),this.$tooltip.addClass("cs-tooltip-"+this.instanceId),this.$tooltip.append('<div class="tooltipContent">'+this.tooltip+"</div>");var t=this.determinePosition();this.$tooltip.attr("data-position",t),L("body").append(this.$tooltip),this.$tooltip.css(this.calculatePosition(this.$tooltip,t))}},hideTooltip:function(){this.$tooltip.remove(),this.$tooltip=null},determinePosition:function(){var t=this.getOption("position");return this.$el.attr("data-position")&&(t=this.$el.attr("data-position")),t}},{}),M.Tooltip=H,M.autoload.Tooltip=M.autoload.factory(H,"[data-tooltip]","data-tooltip"),o});